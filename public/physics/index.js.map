{"version":3,"file":"index.js","mappings":"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","sources":["webpack:///./node_modules/.pnpm/@niuee+bolt@file+..+bolt+build/node_modules/@niuee/bolt/index.mjs","webpack:///./node_modules/.pnpm/@niuee+board@0.0.7/node_modules/@niuee/board/index.mjs","webpack:///./src/physics/index.ts"],"sourcesContent":["class PointCal{static addVector(a,b){return null==a.z&&null==b.z?{x:a.x+b.x,y:a.y+b.y}:(null!=a.z&&null!=b.z||(null==a.z&&(a.z=0),null==b.z&&(b.z=0)),{x:a.x+b.x,y:a.y+b.y,z:a.z+b.z})}static subVector(a,b){return null==a.z&&null==b.z?{x:a.x-b.x,y:a.y-b.y}:(null!=a.z&&null!=b.z||(null==a.z&&(a.z=0),null==b.z&&(b.z=0)),{x:a.x-b.x,y:a.y-b.y,z:a.z-b.z})}static multiplyVectorByScalar(a,b){return null==a.z?{x:a.x*b,y:a.y*b}:{x:a.x*b,y:a.y*b,z:a.z*b}}static divideVectorByScalar(a,b){return 0==b?{x:a.x,y:a.y}:null==a.z?{x:a.x/b,y:a.y/b}:{x:a.x/b,y:a.y/b,z:a.z/b}}static magnitude(a){return null==a.z&&(a.z=0),Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z)}static unitVector(a){return null==a.z&&(a.z=0),0!=this.magnitude(a)?{x:a.x/this.magnitude(a),y:a.y/this.magnitude(a),z:a.z/this.magnitude(a)}:{x:0,y:0,z:0}}static dotProduct(a,b){return null==a.z&&null==b.z?a.x*b.x+a.y*b.y:(null!=a.z&&null!=b.z||(null==a.z&&(a.z=0),null==b.z&&(b.z=0)),a.x*b.x+a.y*b.y+a.z*b.z)}static crossProduct(a,b){return null!=a.z&&null!=b.z||(null==a.z&&(a.z=0),null==b.z&&(b.z=0)),{x:a.y*b.z-a.z*b.y,y:a.z*b.x-a.x*b.z,z:a.x*b.y-a.y*b.x}}static unitVectorFromA2B(a,b){return this.unitVector(this.subVector(b,a))}static rotatePoint(point,angle){return{x:point.x*Math.cos(angle)-point.y*Math.sin(angle),y:point.x*Math.sin(angle)+point.y*Math.cos(angle)}}static transform2NewAxis(point,angleFromOriginalAxis2DestAxis){return{x:point.x*Math.cos(angleFromOriginalAxis2DestAxis)+point.y*Math.sin(angleFromOriginalAxis2DestAxis),y:-point.x*Math.sin(angleFromOriginalAxis2DestAxis)+point.y*Math.cos(angleFromOriginalAxis2DestAxis)}}static angleFromA2B(a,b){return Math.atan2(a.x*b.y-a.y*b.x,a.x*b.x+a.y*b.y)}static transformPointWRTAnchor(point,anchor,angle){let newPoint=this.rotatePoint(this.subVector(point,anchor),angle);return this.addVector(newPoint,anchor)}static distanceBetweenPoints(a,b){return this.magnitude(this.subVector(a,b))}static flipYAxis(point){return{x:point.x,y:-point.y,z:point.z}}static linearInterpolation(a,b,t){return null==a.z||null==b.z?{x:a.x+(b.x-a.x)*t,y:a.y+(b.y-a.y)*t}:{x:a.x+(b.x-a.x)*t,y:a.y+(b.y-a.y)*t,z:a.z+(b.z-a.z)*t}}static isEqual(a,b){return null==a.z&&(a.z=0),null==b.z&&(b.z=0),a.x==b.x&&a.y==b.y&&a.z==b.z}static getLineIntersection(startPoint,endPoint,startPoint2,endPoint2){const numerator=(endPoint2.x-startPoint2.x)*(startPoint.y-startPoint2.y)-(endPoint2.y-startPoint2.y)*(startPoint.x-startPoint2.x),denominator=(endPoint2.y-startPoint2.y)*(endPoint.x-startPoint.x)-(endPoint2.x-startPoint2.x)*(endPoint.y-startPoint.y);if(0===denominator)return{intersects:!1};const t=numerator/denominator;return t>=0&&t<=1?{intersects:!0,intersection:PointCal.linearInterpolation(startPoint,endPoint,t),offset:t}:{intersects:!1}}}function resolveCollision(bodyA,bodyB,normal){if(bodyA.isStatic()&&bodyB.isStatic())return;let inverseMassA=bodyA.isStatic()||bodyA.isMovingStatic()?0:1/bodyA.mass,inverseMassB=bodyB.isStatic()||bodyB.isMovingStatic()?0:1/bodyB.mass,relativeVelocity=PointCal.subVector(bodyA.linearVelocity,bodyB.linearVelocity),J=-1.4*PointCal.dotProduct(relativeVelocity,normal);J/=inverseMassA+inverseMassB;let deltaVelocityA=PointCal.multiplyVectorByScalar(normal,J*inverseMassA),deltaVelocityB=PointCal.multiplyVectorByScalar(normal,J*inverseMassB);bodyA.linearVelocity=PointCal.addVector(bodyA.linearVelocity,deltaVelocityA),bodyB.linearVelocity=PointCal.subVector(bodyB.linearVelocity,deltaVelocityB)}function resolveCollisionWithRotation(bodyA,bodyB,contactManifold){if(bodyA.isStatic()&&bodyB.isStatic())return;let inverseMassA=bodyA.isStatic()||bodyA.isMovingStatic()?0:1/bodyA.mass,inverseMassB=bodyB.isStatic()||bodyB.isMovingStatic()?0:1/bodyB.mass,inverseMMOIA=bodyA.isStatic()||bodyA.isMovingStatic()?0:1/bodyA.momentOfInertia,inverseMMOIB=bodyB.isStatic()||bodyB.isMovingStatic()?0:1/bodyB.momentOfInertia;const Js=[];for(let index=0;index<contactManifold.contactPoints.length;index++){const contactPoint=contactManifold.contactPoints[index],rA=PointCal.subVector(contactPoint,bodyA.center),rB=PointCal.subVector(contactPoint,bodyB.center),rAPerpendicular={x:-rA.y,y:rA.x},rBPerpendicular={x:-rB.y,y:rB.x},angularVelocityA=PointCal.multiplyVectorByScalar(rAPerpendicular,bodyA.angularVelocity),angularVelocityB=PointCal.multiplyVectorByScalar(rBPerpendicular,bodyB.angularVelocity);let relativeVelocity=PointCal.subVector(PointCal.addVector(bodyA.linearVelocity,angularVelocityA),PointCal.addVector(bodyB.linearVelocity,angularVelocityB)),relativeVelocityNormal=PointCal.dotProduct(relativeVelocity,contactManifold.normal);const rAPerpendicularNormal=PointCal.dotProduct(rAPerpendicular,contactManifold.normal),rBPerpendicularNormal=PointCal.dotProduct(rBPerpendicular,contactManifold.normal);let J=-1.4*relativeVelocityNormal;J/=inverseMassA+inverseMassB+rAPerpendicularNormal*rAPerpendicularNormal*inverseMMOIA+rBPerpendicularNormal*rBPerpendicularNormal*inverseMMOIB,J/=contactManifold.contactPoints.length,Js.push(PointCal.multiplyVectorByScalar(contactManifold.normal,J))}Js.forEach(((impulse,index)=>{let deltaVelocityA=PointCal.multiplyVectorByScalar(impulse,inverseMassA),deltaVelocityB=PointCal.multiplyVectorByScalar(impulse,inverseMassB);bodyA.linearVelocity=PointCal.addVector(bodyA.linearVelocity,deltaVelocityA);let resA=PointCal.crossProduct(PointCal.subVector(contactManifold.contactPoints[index],bodyA.center),impulse).z;resA=null==resA?0:resA;let resB=PointCal.crossProduct(PointCal.subVector(contactManifold.contactPoints[index],bodyB.center),impulse).z;resB=null==resB?0:resB,bodyA.angularVelocity+=resA*inverseMMOIA,bodyB.angularVelocity-=resB*inverseMMOIB,bodyB.linearVelocity=PointCal.subVector(bodyB.linearVelocity,deltaVelocityB)}))}function aabbIntersects(aabbA,aabbB){return aabbA.min.x<=aabbB.max.x&&aabbB.min.x<=aabbA.max.x&&aabbA.min.y<=aabbB.max.y&&aabbB.min.y<=aabbA.max.y}function intersects(bodyA,bodyB){let axis=[],bodyAAxes=bodyA.getCollisionAxes(bodyB),bodyBAxes=bodyB.getCollisionAxes(bodyA);axis.push(...bodyAAxes),axis.push(...bodyBAxes);let collision=!0,minDepth=Number.MAX_VALUE,minAxis=axis[0];return axis.forEach((projAxis=>{let bodyAInterval=bodyA.getMinMaxProjection(projAxis),bodyBInterval=bodyB.getMinMaxProjection(projAxis);if(bodyAInterval.min>=bodyBInterval.max||bodyBInterval.min>=bodyAInterval.max)collision=!1;else{let depth=Math.abs(Math.min(bodyAInterval.max,bodyBInterval.max)-Math.max(bodyBInterval.min,bodyAInterval.min));depth<minDepth&&(minDepth=depth,minAxis=projAxis,bodyAInterval.max<bodyBInterval.max&&(minAxis=PointCal.multiplyVectorByScalar(minAxis,-1)))}})),collision?{collision:collision,depth:minDepth,normal:minAxis}:{collision:!1,depth:void 0,normal:void 0}}function narrowPhaseWithRigidBody(bodies,combinationsToCheck,resolveCollisionFlag){if(!resolveCollisionFlag)return[];const contactPoints=[];return combinationsToCheck.forEach((combination=>{let bodyA=combination.bodyA,bodyB=combination.bodyB;if(bodyA==bodyB)return;let bodyAZ=null==bodyA.center.z?0:bodyA.center.z,bodyBZ=null==bodyB.center.z?0:bodyB.center.z;if(Math.abs(bodyAZ-bodyBZ)>.5)return;let{collision:collision,depth:depth,normal:normalAxis}=intersects(bodyA,bodyB);if(collision&&void 0!==normalAxis&&void 0!==depth){let moveDisplacement=PointCal.multiplyVectorByScalar(normalAxis,depth/2),revMoveDisplacement=PointCal.multiplyVectorByScalar(normalAxis,-depth/2);bodyA.isStatic()||bodyA.move(moveDisplacement),bodyB.isStatic()||bodyB.move(revMoveDisplacement),bodyA.isStatic()&&bodyB.move(revMoveDisplacement),bodyB.isStatic()&&bodyA.move(moveDisplacement);const bodyASigNormal=bodyA.getNormalOfSignificantFace(PointCal.multiplyVectorByScalar(normalAxis,-1)),bodyBSigNormal=bodyB.getNormalOfSignificantFace(normalAxis),bodyASigVertices=bodyA.getSignificantVertices(PointCal.multiplyVectorByScalar(normalAxis,-1)),bodyBSigVertices=bodyB.getSignificantVertices(normalAxis),bodyAParallelIndicator=Math.abs(PointCal.dotProduct(bodyASigNormal,PointCal.multiplyVectorByScalar(normalAxis,-1))),bodyBParallelIndicator=Math.abs(PointCal.dotProduct(bodyBSigNormal,normalAxis));if(1==bodyBSigVertices.length||1==bodyASigVertices.length)1==bodyBSigVertices.length?contactPoints.push(bodyBSigVertices[0]):contactPoints.push(bodyASigVertices[0]);else if(bodyAParallelIndicator>bodyBParallelIndicator){const adjacentFaces=bodyA.getAdjacentFaces(PointCal.multiplyVectorByScalar(normalAxis,-1));let faceToClip=[...bodyBSigVertices];for(let index=0;index<adjacentFaces.length-1;index++){let startPoint=adjacentFaces[index].startPoint.coord,endPoint=adjacentFaces[index].endPoint.coord,direction=PointCal.subVector(endPoint,startPoint),sigStart=PointCal.subVector(faceToClip[0],startPoint),sigEnd=PointCal.subVector(faceToClip[1],startPoint),startInside=PointCal.angleFromA2B(direction,sigStart)>=0;if((startInside?1:0)^(PointCal.angleFromA2B(direction,sigEnd)>=0?1:0)){let intersectionPoint=PointCal.getLineIntersection(startPoint,endPoint,faceToClip[0],faceToClip[1]);intersectionPoint.intersects&&void 0!==intersectionPoint.intersection&&(startInside?faceToClip[1]=intersectionPoint.intersection:faceToClip[0]=intersectionPoint.intersection)}}const referenceFace=adjacentFaces[adjacentFaces.length-1];let startPoint=referenceFace.startPoint.coord,endPoint=referenceFace.endPoint.coord,direction=PointCal.subVector(endPoint,startPoint),sigStart=PointCal.subVector(faceToClip[0],startPoint),sigEnd=PointCal.subVector(faceToClip[1],startPoint),startInside=PointCal.angleFromA2B(direction,sigStart)>=0,endInside=PointCal.angleFromA2B(direction,sigEnd)>=0;startInside&&contactPoints.push(faceToClip[0]),endInside&&contactPoints.push(faceToClip[1])}else{const adjacentFaces=bodyB.getAdjacentFaces(normalAxis);let faceToClip=[...bodyASigVertices];0==faceToClip.length&&console.log(\"warning\");for(let index=0;index<adjacentFaces.length-1;index++){let startPoint=adjacentFaces[index].startPoint.coord,endPoint=adjacentFaces[index].endPoint.coord,direction=PointCal.subVector(endPoint,startPoint),sigStart=PointCal.subVector(faceToClip[0],startPoint),sigEnd=PointCal.subVector(faceToClip[1],startPoint),startInside=PointCal.angleFromA2B(direction,sigStart)>=0;if((startInside?1:0)^(PointCal.angleFromA2B(direction,sigEnd)>=0?1:0)){let intersectionPoint=PointCal.getLineIntersection(startPoint,endPoint,faceToClip[0],faceToClip[1]);intersectionPoint.intersects&&void 0!==intersectionPoint.intersection&&(startInside?faceToClip[1]=intersectionPoint.intersection:faceToClip[0]=intersectionPoint.intersection)}}const referenceFace=adjacentFaces[adjacentFaces.length-1];let startPoint=referenceFace.startPoint.coord,endPoint=referenceFace.endPoint.coord,direction=PointCal.subVector(endPoint,startPoint),sigStart=PointCal.subVector(faceToClip[0],startPoint),sigEnd=PointCal.subVector(faceToClip[1],startPoint),startInside=PointCal.angleFromA2B(direction,sigStart)>=0,endInside=PointCal.angleFromA2B(direction,sigEnd)>=0;startInside&&contactPoints.push(faceToClip[0]),endInside&&contactPoints.push(faceToClip[1])}resolveCollisionFlag&&resolveCollisionWithRotation(bodyA,bodyB,{normal:normalAxis,contactPoints:contactPoints})}})),contactPoints}function narrowPhase(bodies,combinationsToCheck,resolveCollisionFlag){resolveCollisionFlag&&combinationsToCheck.forEach((combination=>{let bodyA=bodies[combination.bodyAIndex],bodyB=bodies[combination.bodyBIndex],{collision:collision,depth:depth,normal:normalAxis}=intersects(bodyA,bodyB);if(collision&&void 0!==normalAxis&&void 0!==depth){let moveDisplacement=PointCal.multiplyVectorByScalar(normalAxis,depth/2),revMoveDisplacement=PointCal.multiplyVectorByScalar(normalAxis,-depth/2);bodyA.isStatic()||bodyA.move(moveDisplacement),bodyB.isStatic()||bodyB.move(revMoveDisplacement),bodyA.isStatic()&&bodyB.move(revMoveDisplacement),bodyB.isStatic()&&bodyA.move(moveDisplacement),resolveCollisionFlag&&resolveCollision(bodyA,bodyB,normalAxis)}}))}function broadPhaseWithRigidBodyReturned(quadTree,bodies){let possibleCombi=[];for(let index=0;index<=bodies.length-1;index++){let objsToCheck=quadTree.retrieve(bodies[index]);for(let jindex=0;jindex<=objsToCheck.length-1;jindex++){let bodyA=bodies[index],bodyB=objsToCheck[jindex];bodyA.isStatic()&&bodyB.isStatic()||aabbIntersects(bodyA.AABB,bodyB.AABB)&&possibleCombi.push({bodyA:bodyA,bodyB:bodyB})}}return possibleCombi}function broadPhase(quadTree,bodies){let possibleCombi=[];for(let index=0;index<=bodies.length-1;index++){let objsToCheck=quadTree.retrieve(bodies[index]);for(let jindex=0;jindex<=objsToCheck.length-1;jindex++){let bodyA=bodies[index],bodyB=objsToCheck[jindex];bodyA.isStatic()&&bodyB.isStatic()||aabbIntersects(bodyA.AABB,bodyB.AABB)&&possibleCombi.push({bodyAIndex:index,bodyBIndex:jindex})}}return possibleCombi}class RectangleBound{constructor(bottomLeft,width,height){this.bottomLeft=bottomLeft,this.width=width,this.height=height}getWidth(){return this.width}getHeight(){return this.height}getbottomLeft(){return this.bottomLeft}}class QuadTree{constructor(level,bounds){this.MAX_OBJECTS=10,this.MAX_LEVELS=5,this.objects=[],this.nodes=[],this.level=level,this.objects=[],this.bounds=bounds,this.nodes=[void 0,void 0,void 0,void 0]}draw(context){context.beginPath(),context.rect(this.bounds.getbottomLeft().x,this.bounds.getbottomLeft().y,this.bounds.getWidth(),this.bounds.getHeight()),context.stroke();for(let index=0;index<this.nodes.length;index++){let node=this.nodes[index];null!=node&&node.draw(context)}}clear(){this.objects=[];for(let index=0;index<this.nodes.length;index++){let node=this.nodes[index];null!=node&&(node.clear(),node=void 0)}}split(){let subWidth=this.bounds.getWidth()/2,subHeight=this.bounds.getHeight()/2,bottomLeft=this.bounds.getbottomLeft();this.nodes[0]=new QuadTree(this.level+1,new RectangleBound({x:bottomLeft.x,y:bottomLeft.y},subWidth,subHeight)),this.nodes[1]=new QuadTree(this.level+1,new RectangleBound({x:bottomLeft.x,y:bottomLeft.y+subHeight},subWidth,subHeight)),this.nodes[2]=new QuadTree(this.level+1,new RectangleBound({x:bottomLeft.x+subWidth,y:bottomLeft.y+subHeight},subWidth,subHeight)),this.nodes[3]=new QuadTree(this.level+1,new RectangleBound({x:bottomLeft.x+subWidth,y:bottomLeft.y},subWidth,subHeight))}getIndex(vBody){let midPoint_x=this.bounds.getbottomLeft().x+this.bounds.getWidth()/2,midPoint_y=this.bounds.getbottomLeft().y+this.bounds.getHeight()/2,points=vBody.AABB,bottom=points.max.y<midPoint_y&&points.min.y>this.bounds.getbottomLeft().y,left=points.max.x<midPoint_x&&points.min.x>this.bounds.getbottomLeft().x,right=points.max.x>midPoint_x&&points.min.x>midPoint_x,top=points.max.y>midPoint_y&&points.min.y>midPoint_y;return bottom&&left?0:bottom&&right?3:top&&left?1:top&&right?2:-1}insert(vBody){let node=this.nodes[0];if(null!=node){let index=this.getIndex(vBody);if(-1!==index)return node=this.nodes[index],void(null==node||node.insert(vBody))}if(this.objects.push(vBody),this.objects.length>this.MAX_OBJECTS&&this.level<this.MAX_LEVELS){null!=this.nodes[0]&&null!=this.nodes[0]||this.split();let i=0;for(;i<this.objects.length;){let index=this.getIndex(this.objects[i]),node=this.nodes[index];if(-1!=index&&void 0!==node){let vBody=this.objects[i];this.objects.splice(i,1),node.insert(vBody)}else i++}}}retrieve(vBody){let index=this.getIndex(vBody),res=[],node=this.nodes[index];return-1!==index&&void 0!==node&&res.push(...node.retrieve(vBody)),res.push(...this.objects),res}}class BaseRigidBody{constructor(center,_orientationAngle=0,mass=50,isStaticBody=!1,frictionEnabled=!1){this._mass=50,this._orientationAngle=0,this.isStaticBody=!1,this._staticFrictionCoeff=.3,this.dynamicFrictionCoeff=.3,this.frictionEnabled=!1,this.isMovingStaticBody=!1,this.angularDampingFactor=.005,this._center=center,this._orientationAngle=_orientationAngle,this._mass=mass,this.isStaticBody=isStaticBody,this.frictionEnabled=frictionEnabled,this.force={x:0,y:0},this.linearAcceleartion={x:0,y:0},this._linearVelocity={x:0,y:0},this._angularVelocity=0}move(delta){this.isStatic()||(this._center=PointCal.addVector(this._center,delta))}rotateRadians(angle){this._orientationAngle+=angle}getCenter(){return this._center}getOrientationAngle(){return this._orientationAngle}get angularVelocity(){return this._angularVelocity}set angularVelocity(angularVelocity){this._angularVelocity=angularVelocity}get orientationAngle(){return this._orientationAngle}isStatic(){return this.isStaticBody}isMovingStatic(){return this.isMovingStaticBody}setLinearVelocity(linearVelocity){this._linearVelocity=linearVelocity}setMovingStatic(movingStatic){this.isMovingStaticBody=movingStatic}setOrientationAngle(angle){this._orientationAngle=angle}applyForce(force){0!==PointCal.magnitude(this.force)?this.force=PointCal.addVector(this.force,force):this.force=force}applyForceInOrientation(force){let forceTransformed;forceTransformed=\"number\"==typeof force?PointCal.rotatePoint({x:force,y:0},this._orientationAngle):PointCal.rotatePoint(force,this._orientationAngle),this.applyForce(forceTransformed)}step(deltaTime){if(this.frictionEnabled)if(this.isStatic()||0==this.linearVelocity.x&&0==this.linearVelocity.y&&PointCal.magnitude(PointCal.subVector({x:this.force.x,y:this.force.y},{x:0,y:0}))>=0&&PointCal.magnitude({x:this.force.x,y:this.force.y})<this.staticFrictionCoeff*this.mass*9.81)null!=this.force.z?this.force={x:0,y:0,z:this.force.z}:this.force={x:0,y:0};else{let kineticFrictionDirection=PointCal.multiplyVectorByScalar(PointCal.unitVector({x:this._linearVelocity.x,y:this._linearVelocity.y}),-1),kineticFriction=PointCal.multiplyVectorByScalar(kineticFrictionDirection,this.dynamicFrictionCoeff*this.mass*9.81);this.force=PointCal.addVector(this.force,kineticFriction)}const angularDamping=0!=this._angularVelocity?this._angularVelocity>0?-this.angularDampingFactor:this.angularDampingFactor:0;Math.abs(this._angularVelocity)<Math.abs(angularDamping)?this._angularVelocity=0:this._angularVelocity+=angularDamping,this._orientationAngle+=this._angularVelocity*deltaTime,PointCal.magnitude({x:this._linearVelocity.x,y:this._linearVelocity.y})<PointCal.magnitude(PointCal.divideVectorByScalar(PointCal.multiplyVectorByScalar(this.force,deltaTime),this.mass))&&(null!=this._linearVelocity.z?this._linearVelocity={x:0,y:0,z:this._linearVelocity.z}:this._linearVelocity={x:0,y:0});const gravitationalForce=-9.81*this._mass;this.force=PointCal.addVector(this.force,{x:0,y:0,z:gravitationalForce}),this._linearVelocity=PointCal.addVector(this._linearVelocity,PointCal.divideVectorByScalar(PointCal.multiplyVectorByScalar(this.force,deltaTime),this.mass)),this._center=PointCal.addVector(this._center,PointCal.multiplyVectorByScalar(this._linearVelocity,deltaTime)),null!=this._center.z&&this._center.z<0&&(this._center.z=0),this.force={x:0,y:0}}get center(){return this._center}set center(dest){this._center=dest}get linearVelocity(){return this._linearVelocity}set linearVelocity(dest){this._linearVelocity=dest}get mass(){return this._mass}get staticFrictionCoeff(){return this._staticFrictionCoeff}set staticFrictionCoeff(coeff){this._staticFrictionCoeff=coeff}}class VisaulCircleBody{constructor(center={x:0,y:0},radius,drawingContext,_orientationAngle=0,mass=50,isStatic=!1,frictionEnabled=!0){this._circle=new Circle(center,radius,_orientationAngle,mass,isStatic,frictionEnabled),this._context=drawingContext}draw(ctx){ctx.beginPath(),ctx.arc(this._circle.center.x,this._circle.center.y,this._circle.radius,0,2*Math.PI),ctx.stroke()}step(deltaTime){this._circle.step(deltaTime),this.draw(this._context)}isStatic(){return this._circle.isStatic()}isMovingStatic(){return this._circle.isMovingStatic()}getMinMaxProjection(unitvector){return this._circle.getMinMaxProjection(unitvector)}getCollisionAxes(relativeBody){return this._circle.getCollisionAxes(relativeBody)}applyForce(force){this._circle.applyForce(force)}get AABB(){return this._circle.AABB}getMass(){return this._circle.mass}applyForceInOrientation(force){this._circle.applyForceInOrientation(force)}move(delta){this._circle.move(delta)}getSignificantVertices(collisionNormal){return this._circle.getSignificantVertices(collisionNormal)}get center(){return this._circle.center}set center(dest){this._circle.center=dest}get linearVelocity(){return this._circle.linearVelocity}set linearVelocity(dest){this._circle.linearVelocity=dest}get orientationAngle(){return this._circle.orientationAngle}significantVertex(collisionNormal){return this._circle.significantVertex(collisionNormal)}set angularVelocity(angularVelocity){this._circle.angularVelocity=angularVelocity}get angularVelocity(){return this._circle.angularVelocity}get mass(){return this._circle.mass}getNormalOfSignificantFace(collisionNormal){return this._circle.getNormalOfSignificantFace(collisionNormal)}get staticFrictionCoeff(){return this._circle.staticFrictionCoeff}set staticFrictionCoeff(coeff){this._circle.staticFrictionCoeff=coeff}getAdjacentFaces(collisionNormal){return this._circle.getAdjacentFaces(collisionNormal)}get momentOfInertia(){return this._circle.momentOfInertia}}class VisualPolygonBody{constructor(center={x:0,y:0},vertices,drawingContext,_orientationAngle=0,mass=50,isStatic=!1,frictionEnabled=!0){this._polygon=new Polygon(center,vertices,_orientationAngle,mass,isStatic,frictionEnabled),this._context=drawingContext}draw(ctx){ctx.beginPath();let vertices=this._polygon.getVerticesAbsCoord();ctx.moveTo(vertices[0].x,vertices[0].y),vertices.forEach((vertex=>{ctx.lineTo(vertex.x,vertex.y)})),ctx.lineTo(vertices[0].x,vertices[0].y),ctx.stroke()}step(deltaTime){this._polygon.step(deltaTime),this.draw(this._context)}isStatic(){return this._polygon.isStatic()}isMovingStatic(){return this._polygon.isMovingStatic()}getMinMaxProjection(unitvector){return this._polygon.getMinMaxProjection(unitvector)}getCollisionAxes(relativeBody){return this._polygon.getCollisionAxes(relativeBody)}applyForce(force){this._polygon.applyForce(force)}applyForceInOrientation(force){this._polygon.applyForceInOrientation(force)}setLinearVelocity(linearVelocity){this._polygon.setLinearVelocity(linearVelocity)}move(delta){this._polygon.move(delta)}get center(){return this._polygon.center}set center(dest){this._polygon.center=dest}get linearVelocity(){return this._polygon.linearVelocity}set linearVelocity(dest){this._polygon.linearVelocity=dest}get angularVelocity(){return this._polygon.angularVelocity}set angularVelocity(angularVelocity){this._polygon.angularVelocity=angularVelocity}get orientationAngle(){return this._polygon.orientationAngle}significantVertex(collisionNormal){return this._polygon.significantVertex(collisionNormal)}getSignificantVertices(collisionNormal){return this._polygon.getSignificantVertices(collisionNormal)}get AABB(){return this._polygon.AABB}get mass(){return this._polygon.mass}get staticFrictionCoeff(){return this._polygon.staticFrictionCoeff}set staticFrictionCoeff(coeff){this._polygon.staticFrictionCoeff=coeff}get momentOfInertia(){return this._polygon.momentOfInertia}getNormalOfSignificantFace(collisionNormal){return this._polygon.getNormalOfSignificantFace(collisionNormal)}getAdjacentFaces(collisionNormal){return this._polygon.getAdjacentFaces(collisionNormal)}}class Polygon extends BaseRigidBody{constructor(center={x:0,y:0},vertices,_orientationAngle=0,mass=50,isStatic=!1,frictionEnabled=!0){super(center,_orientationAngle,mass,isStatic,frictionEnabled),this.vertices=vertices,this.step=this.step.bind(this);let numerator=this.vertices.reduce(((acc,vertex,index)=>{let nextPointIndex=index<this.vertices.length-1?index+1:0,nextPoint=this.vertices[nextPointIndex],crossProduct=PointCal.crossProduct(nextPoint,vertex);return acc+PointCal.magnitude(crossProduct)*(PointCal.dotProduct(vertex,vertex)+PointCal.dotProduct(vertex,nextPoint)+PointCal.dotProduct(nextPoint,nextPoint))}),0),denomiator=this.vertices.reduce(((acc,vertex,index)=>acc+PointCal.magnitude(PointCal.crossProduct(this.vertices[index<this.vertices.length-1?index+1:0],vertex))),0);this._momentOfInertia=this._mass*numerator/(6*denomiator)}getVerticesAbsCoord(){return this.vertices.map((vertex=>PointCal.addVector(this._center,PointCal.rotatePoint(vertex,this._orientationAngle))))}getCollisionAxes(relativeBody){return this.getVerticesAbsCoord().map(((vertex,index,absVertices)=>{let vector=PointCal.subVector(vertex,absVertices[absVertices.length-1]);return index>0&&(vector=PointCal.subVector(vertex,absVertices[index-1])),PointCal.unitVector(PointCal.rotatePoint(vector,Math.PI/2))}))}getMinMaxProjection(unitvector){let projections=this.getVerticesAbsCoord().map((vertex=>PointCal.dotProduct(vertex,unitvector)));return{min:Math.min(...projections),max:Math.max(...projections)}}get AABB(){let points=this.getVerticesAbsCoord(),xCoords=points.map((vertex=>vertex.x)),yCoords=points.map((vertex=>vertex.y));return{min:{x:Math.min(...xCoords),y:Math.min(...yCoords)},max:{x:Math.max(...xCoords),y:Math.max(...yCoords)}}}significantVertex(collisionNormal){let vertices=this.getVerticesAbsCoord(),verticesProjected=vertices.map((vertex=>PointCal.dotProduct(vertex,collisionNormal)));return vertices[verticesProjected.indexOf(Math.max(...verticesProjected))]}getSignificantVertices(collisionNormal){let vertices=this.getVerticesAbsCoord(),verticesProjected=vertices.map((vertex=>PointCal.dotProduct(vertex,collisionNormal))),maxIndex=verticesProjected.indexOf(Math.max(...verticesProjected));const tipVertex=vertices[maxIndex];let prevPointIndex=maxIndex>0?maxIndex-1:vertices.length-1,nextPointIndex=maxIndex<vertices.length-1?maxIndex+1:0;const prevPoint=vertices[prevPointIndex],nextPoint=vertices[nextPointIndex];return PointCal.dotProduct(prevPoint,collisionNormal)>PointCal.dotProduct(nextPoint,collisionNormal)?[prevPoint,tipVertex]:[tipVertex,nextPoint]}getNormalOfSignificantFace(collisionNormal){const vertices=this.getSignificantVertices(collisionNormal),direction=PointCal.unitVectorFromA2B(vertices[0],vertices[1]);return PointCal.rotatePoint(direction,-Math.PI/2)}getAdjacentFaces(collisionNormal){let vertices=this.getVerticesAbsCoord(),verticesProjected=vertices.map((vertex=>PointCal.dotProduct(vertex,collisionNormal))),maxIndex=verticesProjected.indexOf(Math.max(...verticesProjected));const tipVertex=vertices[maxIndex];let prevPointIndex=maxIndex>0?maxIndex-1:vertices.length-1,nextPointIndex=maxIndex<vertices.length-1?maxIndex+1:0;const prevPoint=vertices[prevPointIndex],nextPoint=vertices[nextPointIndex],adjacentFacesWithIndex=[];if(PointCal.dotProduct(prevPoint,collisionNormal)>PointCal.dotProduct(nextPoint,collisionNormal)){adjacentFacesWithIndex.push({startPoint:{coord:prevPoint,index:prevPointIndex},endPoint:{coord:tipVertex,index:maxIndex}}),adjacentFacesWithIndex.unshift({startPoint:{coord:tipVertex,index:maxIndex},endPoint:{coord:nextPoint,index:nextPointIndex}});let prevPrevPointIndex=prevPointIndex>0?prevPointIndex-1:vertices.length-1;adjacentFacesWithIndex.unshift({startPoint:{coord:vertices[prevPrevPointIndex],index:prevPrevPointIndex},endPoint:{coord:prevPoint,index:prevPointIndex}})}else{adjacentFacesWithIndex.push({startPoint:{coord:tipVertex,index:maxIndex},endPoint:{coord:nextPoint,index:nextPointIndex}});let nextNextPointIndex=nextPointIndex<vertices.length-1?nextPointIndex+1:0;adjacentFacesWithIndex.unshift({startPoint:{coord:nextPoint,index:nextPointIndex},endPoint:{coord:vertices[nextNextPointIndex],index:nextNextPointIndex}}),adjacentFacesWithIndex.unshift({startPoint:{coord:prevPoint,index:prevPointIndex},endPoint:{coord:tipVertex,index:maxIndex}})}return adjacentFacesWithIndex}get momentOfInertia(){return this._momentOfInertia}}class Circle extends BaseRigidBody{constructor(center={x:0,y:0},radius,_orientationAngle=0,mass=50,isStatic=!1,frictionEnabled=!0){super(center,_orientationAngle,mass,isStatic,frictionEnabled),this._radius=radius,this.step=this.step.bind(this),this._momentOfInertia=this._mass*this._radius*this._radius/2}getMinMaxProjection(unitvector){let PositiveFurthest=PointCal.addVector(this._center,PointCal.multiplyVectorByScalar(unitvector,this._radius)),NegativeFurthest=PointCal.addVector(this._center,PointCal.multiplyVectorByScalar(unitvector,-this._radius));return{min:PointCal.dotProduct(NegativeFurthest,unitvector),max:PointCal.dotProduct(PositiveFurthest,unitvector)}}getCollisionAxes(relativeBody){return[PointCal.unitVector(PointCal.subVector(relativeBody.center,this._center))]}get AABB(){return{min:PointCal.subVector(this._center,{x:this._radius,y:this._radius}),max:PointCal.addVector(this._center,{x:this._radius,y:this._radius})}}significantVertex(collisionNormal){return PointCal.addVector(this._center,PointCal.multiplyVectorByScalar(collisionNormal,this._radius))}get radius(){return this._radius}getSignificantVertices(collisionNormal){return[PointCal.addVector(this._center,PointCal.multiplyVectorByScalar(collisionNormal,this._radius))]}getNormalOfSignificantFace(collisionNormal){return PointCal.unitVector(collisionNormal)}getAdjacentFaces(collisionNormal){return[]}get momentOfInertia(){return this._momentOfInertia}}class FixedPinJoint{constructor(bodyA,anchorA,worldAnchorA){this.bodyA=bodyA,this.anchorA=anchorA,this.worldAnchorA=worldAnchorA}enforce(dt){this.solveWorldPinJointConstraint(dt)}solveWorldPinJointConstraint(dt){const body=this.bodyA,localAnchor=this.anchorA,worldAnchor=this.worldAnchorA,worldAnchorOnBody=PointCal.addVector(body.center,PointCal.rotatePoint(localAnchor,body.orientationAngle)),diff=PointCal.subVector(worldAnchorOnBody,worldAnchor),r=PointCal.subVector(worldAnchorOnBody,body.center),velocity=PointCal.addVector(body.linearVelocity,PointCal.crossProduct({x:0,y:0,z:body.angularVelocity},r)),invMass=body.isStatic()?0:1/body.mass,invI=body.isStatic()?0:1/body.momentOfInertia,K_x=invMass+invI*r.y*r.y,K_y=invMass+invI*r.x*r.x,K_xy=-invI*r.x*r.y,impulse_x=-K_x*diff.x-K_xy*diff.y-1*diff.x/dt-velocity.x,impulse_y=-K_xy*diff.x-K_y*diff.y-1*diff.y/dt-velocity.y;body.isStatic()||(body.linearVelocity.x+=invMass*impulse_x,body.linearVelocity.y+=invMass*impulse_y,body.angularVelocity+=invI*(r.x*impulse_y-r.y*impulse_x))}}class PinJoint{constructor(bodyA,bodyB,anchorA,anchorB){this.bodyA=bodyA,this.bodyB=bodyB,this.anchorA=anchorA,this.anchorB=anchorB}enforce(dt){this.solvePinJointConstraint(dt)}solvePinJointConstraint(dt){const bodyA=this.bodyA,bodyB=this.bodyB,anchorA=this.anchorA,anchorB=this.anchorB,worldAnchorA=PointCal.addVector(bodyA.center,PointCal.rotatePoint(anchorA,bodyA.orientationAngle)),worldAnchorB=PointCal.addVector(bodyB.center,PointCal.rotatePoint(anchorB,bodyB.orientationAngle)),diff=PointCal.subVector(worldAnchorB,worldAnchorA),rA=PointCal.subVector(worldAnchorA,bodyA.center),rB=PointCal.subVector(worldAnchorB,bodyB.center),relativeVelocity=PointCal.subVector(PointCal.addVector(bodyB.linearVelocity,PointCal.crossProduct({x:0,y:0,z:bodyB.angularVelocity},rB)),PointCal.addVector(bodyA.linearVelocity,PointCal.crossProduct({x:0,y:0,z:bodyA.angularVelocity},rA))),invMassA=bodyA.isStatic()?0:1/bodyA.mass,invMassB=bodyB.isStatic()?0:1/bodyB.mass,invIA=bodyA.isStatic()?0:1/bodyA.momentOfInertia,invIB=bodyB.isStatic()?0:1/bodyB.momentOfInertia,K_x=invMassA+invMassB+invIA*rA.y*rA.y+invIB*rB.y*rB.y,K_y=invMassA+invMassB+invIA*rA.x*rA.x+invIB*rB.x*rB.x,K_xy=-invIA*rA.x*rA.y-invIB*rB.x*rB.y,impulse_x=-K_x*diff.x-K_xy*diff.y-1*diff.x/dt-relativeVelocity.x,impulse_y=-K_xy*diff.x-K_y*diff.y-1*diff.y/dt-relativeVelocity.y;bodyA.isStatic()||(bodyA.linearVelocity.x-=invMassA*impulse_x,bodyA.linearVelocity.y-=invMassA*impulse_y,bodyA.angularVelocity-=invIA*(rA.x*impulse_y-rA.y*impulse_x)),bodyB.isStatic()||(bodyB.linearVelocity.x+=invMassB*impulse_x,bodyB.linearVelocity.y+=invMassB*impulse_y,bodyB.angularVelocity+=invIB*(rB.x*impulse_y-rB.y*impulse_x))}}function solvePinJointConstraint(constraint,dt){const{bodyA:bodyA,bodyB:bodyB,anchorA:anchorA,anchorB:anchorB}=constraint,worldAnchorA=PointCal.addVector(bodyA.center,PointCal.rotatePoint(anchorA,bodyA.orientationAngle)),worldAnchorB=PointCal.addVector(bodyB.center,PointCal.rotatePoint(anchorB,bodyB.orientationAngle)),diff=PointCal.subVector(worldAnchorB,worldAnchorA),rA=PointCal.subVector(worldAnchorA,bodyA.center),rB=PointCal.subVector(worldAnchorB,bodyB.center),relativeVelocity=PointCal.subVector(PointCal.addVector(bodyB.linearVelocity,PointCal.crossProduct({x:0,y:0,z:bodyB.angularVelocity},rB)),PointCal.addVector(bodyA.linearVelocity,PointCal.crossProduct({x:0,y:0,z:bodyA.angularVelocity},rA))),invMassA=bodyA.isStatic()?0:1/bodyA.mass,invMassB=bodyB.isStatic()?0:1/bodyB.mass,invIA=bodyA.isStatic()?0:1/bodyA.momentOfInertia,invIB=bodyB.isStatic()?0:1/bodyB.momentOfInertia,K_x=invMassA+invMassB+invIA*rA.y*rA.y+invIB*rB.y*rB.y,K_y=invMassA+invMassB+invIA*rA.x*rA.x+invIB*rB.x*rB.x,K_xy=-invIA*rA.x*rA.y-invIB*rB.x*rB.y,impulse_x=-K_x*diff.x-K_xy*diff.y-.5*diff.x/dt-relativeVelocity.x,impulse_y=-K_xy*diff.x-K_y*diff.y-.5*diff.y/dt-relativeVelocity.y;bodyA.isStatic()||(bodyA.linearVelocity.x-=invMassA*impulse_x,bodyA.linearVelocity.y-=invMassA*impulse_y,bodyA.angularVelocity-=invIA*(rA.x*impulse_y-rA.y*impulse_x)),bodyB.isStatic()||(bodyB.linearVelocity.x+=invMassB*impulse_x,bodyB.linearVelocity.y+=invMassB*impulse_y,bodyB.angularVelocity+=invIB*(rB.x*impulse_y-rB.y*impulse_x))}function solveWorldPinJointConstraint(constraint,dt){const{body:body,localAnchor:localAnchor,worldAnchor:worldAnchor}=constraint,worldAnchorOnBody=PointCal.addVector(body.center,PointCal.rotatePoint(localAnchor,body.orientationAngle)),diff=PointCal.subVector(worldAnchorOnBody,worldAnchor),r=PointCal.subVector(worldAnchorOnBody,body.center),velocity=PointCal.addVector(body.linearVelocity,PointCal.crossProduct({x:0,y:0,z:body.angularVelocity},r)),invMass=body.isStatic()?0:1/body.mass,invI=body.isStatic()?0:1/body.momentOfInertia,K_x=invMass+invI*r.y*r.y,K_y=invMass+invI*r.x*r.x,K_xy=-invI*r.x*r.y,impulse_x=-K_x*diff.x-K_xy*diff.y-.2*diff.x/dt-velocity.x,impulse_y=-K_xy*diff.x-K_y*diff.y-.2*diff.y/dt-velocity.y;body.isStatic()||(body.linearVelocity.x+=invMass*impulse_x,body.linearVelocity.y+=invMass*impulse_y,body.angularVelocity+=invI*(r.x*impulse_y-r.y*impulse_x))}class World{constructor(maxTransWidth,maxTransHeight){this.pinJoints=[],this._context=null,this.maxTransHeight=maxTransHeight,this.maxTransWidth=maxTransWidth,this.bound=new RectangleBound({x:-this.maxTransWidth,y:-this.maxTransHeight},2*this.maxTransWidth,2*this.maxTransHeight),this.quadTree=new QuadTree(0,this.bound),this.rigidBodyList=[],this.rigidBodyMap=new Map,this._resolveCollision=!0,this.constraints=[]}addRigidBody(ident,body){this.rigidBodyList.push(body),this.rigidBodyMap.set(ident,body)}removeRigidBody(ident){this.rigidBodyMap.has(ident)&&this.rigidBodyMap.delete(ident)}step(deltaTime){this._resolveCollision&&this.resolveCollisionPhase(),this.constraints.forEach((constraint=>constraint.enforce(deltaTime))),this.getRigidBodyList().forEach((rigidBody=>{rigidBody.step(deltaTime)}))}resolveCollisionPhase(){let rigidBodyList=[];return this.quadTree.clear(),this.rigidBodyMap.forEach((body=>{rigidBodyList.push(body),this.quadTree.insert(body)})),narrowPhaseWithRigidBody(0,broadPhaseWithRigidBodyReturned(this.quadTree,rigidBodyList),this._resolveCollision)}get resolveCollision(){return this._resolveCollision}set resolveCollision(resolveCollision){this._resolveCollision=resolveCollision}getRigidBodyList(){let rigidBodyList=[];return this.rigidBodyMap.forEach((body=>{rigidBodyList.push(body)})),rigidBodyList}getRigidBodyMap(){return this.rigidBodyMap}setMaxTransHeight(height){this.maxTransHeight=height}setMaxTransWidth(width){this.maxTransWidth=width}addConstraint(constraint){this.constraints.push(constraint)}getConstraints(){return this.constraints}addPinJoint(bodyA,bodyB,anchorA,anchorB){this.pinJoints.push({bodyA:bodyA,bodyB:bodyB,anchorA:anchorA,anchorB:anchorB})}}export{BaseRigidBody,Circle,FixedPinJoint,PinJoint,Polygon,QuadTree,RectangleBound,VisaulCircleBody,VisualPolygonBody,World,aabbIntersects,broadPhase,broadPhaseWithRigidBodyReturned,intersects,narrowPhase,narrowPhaseWithRigidBody,resolveCollision,resolveCollisionWithRotation,solvePinJointConstraint,solveWorldPinJointConstraint};\n//# sourceMappingURL=index.mjs.map\n","function t(t){return void 0===t||!(void 0!==t.min&&void 0!==t.max&&t.min>t.max)}function e(t,e){return i(t,e)||void 0===e||(e.max&&(t=Math.min(e.max,t)),e.min&&(t=Math.max(e.min,t))),t}function i(t,e){return void 0===e||!(t<=0||void 0!==e&&(void 0!==e.max&&e.max<t||void 0!==e.min&&e.min>t))}class r{static addVector(t,e){return null==t.z&&null==e.z?{x:t.x+e.x,y:t.y+e.y}:(null!=t.z&&null!=e.z||(null==t.z&&(t.z=0),null==e.z&&(e.z=0)),{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z})}static subVector(t,e){return null==t.z&&null==e.z?{x:t.x-e.x,y:t.y-e.y}:(null!=t.z&&null!=e.z||(null==t.z&&(t.z=0),null==e.z&&(e.z=0)),{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z})}static multiplyVectorByScalar(t,e){return null==t.z?{x:t.x*e,y:t.y*e}:{x:t.x*e,y:t.y*e,z:t.z*e}}static divideVectorByScalar(t,e){return 0==e?{x:t.x,y:t.y}:null==t.z?{x:t.x/e,y:t.y/e}:{x:t.x/e,y:t.y/e,z:t.z/e}}static magnitude(t){return null==t.z&&(t.z=0),Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)}static unitVector(t){return null==t.z&&(t.z=0),0!=this.magnitude(t)?{x:t.x/this.magnitude(t),y:t.y/this.magnitude(t),z:t.z/this.magnitude(t)}:{x:0,y:0,z:0}}static dotProduct(t,e){return null==t.z&&null==e.z?t.x*e.x+t.y*e.y:(null!=t.z&&null!=e.z||(null==t.z&&(t.z=0),null==e.z&&(e.z=0)),t.x*e.x+t.y*e.y+t.z*e.z)}static crossProduct(t,e){return null!=t.z&&null!=e.z||(null==t.z&&(t.z=0),null==e.z&&(e.z=0)),{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}}static unitVectorFromA2B(t,e){return this.unitVector(this.subVector(e,t))}static rotatePoint(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e)}}static transform2NewAxis(t,e){return{x:t.x*Math.cos(e)+t.y*Math.sin(e),y:-t.x*Math.sin(e)+t.y*Math.cos(e)}}static angleFromA2B(t,e){return Math.atan2(t.x*e.y-t.y*e.x,t.x*e.x+t.y*e.y)}static transformPointWRTAnchor(t,e,i){let r=this.rotatePoint(this.subVector(t,e),i);return this.addVector(r,e)}static distanceBetweenPoints(t,e){return this.magnitude(this.subVector(t,e))}static flipYAxis(t){return{x:t.x,y:-t.y,z:t.z}}static linearInterpolation(t,e,i){return null==t.z||null==e.z?{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}:{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i,z:t.z+(e.z-t.z)*i}}static isEqual(t,e){return null==t.z&&(t.z=0),null==e.z&&(e.z=0),t.x==e.x&&t.y==e.y&&t.z==e.z}static getLineIntersection(t,e,i,o){const n=(o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x),a=(o.y-i.y)*(e.x-t.x)-(o.x-i.x)*(e.y-t.y);if(0===a)return{intersects:!1};const s=n/a;return s>=0&&s<=1?{intersects:!0,intersection:r.linearInterpolation(t,e,s),offset:s}:{intersects:!1}}}function o(t,e,i,o,n,a){let s={x:i/2,y:o/2},l=r.subVector(e,s);return l=r.multiplyVectorByScalar(l,1/n),l=r.rotatePoint(l,a),r.addVector(t,l)}function n(t,e,i,o,n,a){let s={x:e/2,y:i/2},l=r.subVector(t,s);return l=r.multiplyVectorByScalar(l,1/n),l=r.rotatePoint(l,a),r.addVector(o,l)}function a(t,e,i,o,n,a){let s={x:e/2,y:i/2},l=r.subVector(t,o);return l=r.rotatePoint(l,-a),l=r.multiplyVectorByScalar(l,n),r.addVector(s,l)}function s(t,e,i,r,o,n){const s=a(t,e,i,r,o,n);return!(s.x<0||s.x>e||s.y<0||s.y>i)}function l(t,e){if(null==e)return!0;let i=!1,r=!1,o=!1,n=!1;return(null==e.max||null==e.max.x||t.x<=e.max.x)&&(r=!0),(null==e.min||null==e.min.x||t.x>=e.min.x)&&(i=!0),(null==e.max||null==e.max.y||t.y<=e.max.y)&&(o=!0),(null==e.min||null==e.min.y||t.y>=e.min.y)&&(n=!0),i&&r&&o&&n}function h(t){var e,i,r,o;if(null==t)return!0;const n=null===(e=t.min)||void 0===e?void 0:e.x,a=null===(i=t.max)||void 0===i?void 0:i.x;if(null!=n&&null!=a&&n>=a)return!1;const s=null===(r=t.min)||void 0===r?void 0:r.y,l=null===(o=t.max)||void 0===o?void 0:o.y;return!(null!=s&&null!=l&&s>=l)}function c(t){return null!=t&&(null!=t.max&&null!=t.min&&(null!=t.max.x&&null!=t.max.y&&null!=t.min.x&&null!=t.min.y))}function u(t,e){if(l(t,e)||null==e)return t;let i={x:t.x,y:t.y},r=e.min;return null!=r&&(null!=r.x&&(i.x=Math.max(i.x,r.x)),null!=r.y&&(i.y=Math.max(i.y,r.y))),r=e.max,null!=r&&(null!=r.x&&(i.x=Math.min(i.x,r.x)),null!=r.y&&(i.y=Math.min(i.y,r.y))),i}function d(t){if(null!=t&&null!=t.min&&null!=t.max&&null!=t.min.x&&null!=t.max.x)return t.max.x-t.min.x}function m(t){const e=d(t);return null!=e?e/2:void 0}function b(t){if(null!=t&&null!=t.min&&null!=t.max&&null!=t.min.y&&null!=t.max.y)return t.max.y-t.min.y}function y(t){const e=b(t);return null!=e?e/2:void 0}function v(t,e,i,n,a,s){if(null==n)return t;let l=o(t,{x:0,y:i},e,i,a,s),h=o(t,{x:0,y:0},e,i,a,s),c=o(t,{x:e,y:i},e,i,a,s),d=o(t,{x:e,y:0},e,i,a,s),m=u(l,n),b=u(c,n),y=u(h,n),v=u(d,n),x=[r.subVector(m,l),r.subVector(b,c),r.subVector(y,h),r.subVector(v,d)],_=Math.abs(x[0].x),p=Math.abs(x[0].y),g=x[0];return x.forEach((t=>{Math.abs(t.x)>_&&(_=Math.abs(t.x),g.x=t.x),Math.abs(t.y)>p&&(p=Math.abs(t.y),g.y=t.y)})),r.addVector(t,g)}function x(t,e){if(_(t,e)||void 0===e)return t;t=p(t);const i=g(e.start,t),r=g(e.end,t);if(e.ccw&&(i<0||r>0)||!e.ccw&&(i>0||r<0)){if(Math.abs(i)===Math.abs(r))return e.startAsTieBreaker?e.start:e.end;return Math.abs(i)<Math.abs(r)?e.start:e.end}return t}function _(t,e){if(void 0===e)return!0;const i=g(e.start,t),r=g(e.end,t);return!(e.ccw&&(i<0||r>0)||!e.ccw&&(i>0||r<0))}function p(t){return t=((t%=2*Math.PI)+2*Math.PI)%(2*Math.PI)}function g(t,e){t=p(t);let i=(e=p(e))-t;return i>Math.PI&&(i=-(2*Math.PI-i)),i<-Math.PI&&(i+=2*Math.PI),i}function f(t){return t*Math.PI/180}function C(t){return 180*t/Math.PI}class z{constructor(t=void 0){this._nextHandler=t}set nextHandler(t){this._nextHandler=t}get nextHandler(){return this._nextHandler}chainHandler(t){return this._nextHandler=t,t}panCameraTo(t,e){this._nextHandler&&this._nextHandler.panCameraTo(t,e)}panCameraBy(t,e){this._nextHandler&&this._nextHandler.panCameraBy(t,e)}}class S extends z{constructor(t=void 0){super(t)}panCameraTo(t,e){t.setPosition(e)}panCameraBy(t,e){t.setPosition(r.addVector(t.position,e))}}class H extends z{constructor(t=void 0){super(t),this._entireViewPort=!1}set entireViewPort(t){this._entireViewPort=t}get entireViewPort(){return this._entireViewPort}panCameraTo(t,e){let i=u(e,t.boundaries);this._entireViewPort&&(i=v(e,t.viewPortWidth,t.viewPortHeight,t.boundaries,t.zoomLevel,t.rotation)),super.panCameraTo(t,i)}panCameraBy(t,e){let i=r.subVector(u(r.addVector(t.position,e),t.boundaries),t.position);this._entireViewPort&&(i=r.subVector(v(r.addVector(t.position,e),t.viewPortWidth,t.viewPortHeight,t.boundaries,t.zoomLevel,t.rotation),t.position)),super.panCameraBy(t,i)}}class w extends z{constructor(t=void 0){super(t),this._restrictXTranslation=!1,this._restrictYTranslation=!1,this._restrictRelativeXTranslation=!1,this._restrictRelativeYTranslation=!1}set restrictXTranslation(t){this._restrictXTranslation=t}get restrictXTranslation(){return this._restrictXTranslation}set restrictYTranslation(t){this._restrictYTranslation=t}get restrictYTranslation(){return this._restrictYTranslation}set restrictRelativeXTranslation(t){this._restrictRelativeXTranslation=t}get restrictRelativeXTranslation(){return this._restrictRelativeXTranslation}set restrictRelativeYTranslation(t){this._restrictRelativeYTranslation=t}get restrictRelativeYTranslation(){return this._restrictRelativeYTranslation}convertDeltaToComplyWithRestriction(t,e){if(this._restrictXTranslation&&this._restrictYTranslation)return{x:0,y:0};if(this._restrictRelativeXTranslation&&this._restrictRelativeYTranslation)return{x:0,y:0};if(this._restrictXTranslation&&(e.x=0),this._restrictYTranslation&&(e.y=0),this._restrictRelativeXTranslation){const i=r.rotatePoint({x:0,y:1},t.rotation),o=r.dotProduct(i,e);e=r.multiplyVectorByScalar(i,o)}if(this._restrictRelativeYTranslation){const i=r.rotatePoint({x:1,y:0},t.rotation),o=r.dotProduct(i,e);e=r.multiplyVectorByScalar(i,o)}return e}panCameraTo(t,e){let i=r.subVector(e,t.position);if(i=this.convertDeltaToComplyWithRestriction(t,i),0===i.x&&0===i.y)return;const o=r.addVector(t.position,i);super.panCameraTo(t,o)}panCameraBy(t,e){e=this.convertDeltaToComplyWithRestriction(t,e),super.panCameraBy(t,e)}}class T extends z{set restrictRelativeXTranslation(t){this.restrictionHandler.restrictRelativeXTranslation=t}set restrictRelativeYTranslation(t){this.restrictionHandler.restrictRelativeYTranslation=t}set restrictXTranslation(t){this.restrictionHandler.restrictXTranslation=t}set restrictYTranslation(t){this.restrictionHandler.restrictYTranslation=t}set restrictTranslation(t){this.restrictionHandler.restrictXTranslation=t,this.restrictionHandler.restrictYTranslation=t}get restrictTranslation(){return this.restrictionHandler.restrictXTranslation}get restrictXTranslation(){return this.restrictionHandler.restrictXTranslation}get restrictYTranslation(){return this.restrictionHandler.restrictYTranslation}get restrictRelativeXTranslation(){return this.restrictionHandler.restrictRelativeXTranslation}get restrictRelativeYTranslation(){return this.restrictionHandler.restrictRelativeYTranslation}set limitEntireViewPort(t){this.clampHandler.entireViewPort=t}get limitEntireViewPort(){return this.clampHandler.entireViewPort}constructor(){super(),this.baseHandler=new S,this.clampHandler=new H,this.restrictionHandler=new w,this.restrictionHandler.chainHandler(this.clampHandler).chainHandler(this.baseHandler),this.nextHandler=this.restrictionHandler}}class B{constructor(t=void 0){this._nextHandler=t}set nextHandler(t){this._nextHandler=t}get nextHandler(){return this._nextHandler}chainHandler(t){return this._nextHandler=t,t}rotateCameraTo(t,e){this._nextHandler&&this._nextHandler.rotateCameraTo(t,e)}rotateCameraBy(t,e){this._nextHandler&&this._nextHandler.rotateCameraBy(t,e)}}class P extends B{constructor(t=void 0){super()}rotateCameraTo(t,e){e=p(e),t.setRotation(e)}rotateCameraBy(t,e){const i=t.rotation,r=p(i+e);e=g(i,r),t.setRotation(r)}}class M extends B{constructor(t=void 0){super(t),this._restrictRotation=!1}get restrictRotation(){return this._restrictRotation}set restrictRotation(t){this._restrictRotation=t}rotateCameraBy(t,e){this._restrictRotation||super.rotateCameraBy(t,e)}rotateCameraTo(t,e){this._restrictRotation||super.rotateCameraTo(t,e)}}class k extends B{constructor(t=void 0){super(t)}rotateCameraBy(t,e){const i=t.rotation;let r=p(i+e);r=x(r,t.rotationBoundaries),e=g(i,r),super.rotateCameraBy(t,e)}rotateCameraTo(t,e){e=x(e=p(e),t.rotationBoundaries),super.rotateCameraTo(t,e)}}class O extends B{get restrictRotation(){return this._restrictionHandler.restrictRotation}set restrictRotation(t){this._restrictionHandler.restrictRotation=t}constructor(t=void 0){super(t),this._baseHandler=new P,this._clampHandler=new k(this._baseHandler),this._restrictionHandler=new M(this._clampHandler)}rotateCameraBy(t,e){this._restrictionHandler.rotateCameraBy(t,e),super.rotateCameraBy(t,e)}rotateCameraTo(t,e){this._restrictionHandler.rotateCameraTo(t,e),super.rotateCameraTo(t,e)}}class V{constructor(t=void 0){this._nextHandler=t}set nextHandler(t){this._nextHandler=t}get nextHandler(){return this._nextHandler}chainHandler(t){return this._nextHandler=t,t}zoomCameraTo(t,e){this._nextHandler&&this._nextHandler.zoomCameraTo(t,e)}zoomCameraBy(t,e){this._nextHandler&&this._nextHandler.zoomCameraBy(t,e)}zoomCameraToAt(t,e,i){this._nextHandler&&this._nextHandler.zoomCameraToAt(t,e,i)}zoomCameraByAt(t,e,i){this._nextHandler&&this._nextHandler.zoomCameraByAt(t,e,i)}}class L extends V{constructor(t,e=void 0){super(e),this.panHandler=t}set nextHandler(t){this._nextHandler=void 0}zoomCameraTo(t,e){t.setZoomLevel(e)}zoomCameraBy(t,e){const i=t.zoomLevel+e;t.setZoomLevel(i)}zoomCameraToAt(t,e,i){let o=n(i,t.viewPortWidth,t.viewPortHeight,t.position,t.zoomLevel,t.rotation);t.zoomLevel,t.setZoomLevel(e);let a=n(i,t.viewPortWidth,t.viewPortHeight,t.position,t.zoomLevel,t.rotation);const s=r.subVector(o,a);this.panHandler.panCameraBy(t,s)}zoomCameraByAt(t,e,i){let o=n(i,t.viewPortWidth,t.viewPortHeight,t.position,t.zoomLevel,t.rotation);const a=t.zoomLevel+e;t.setZoomLevel(a);let s=n(i,t.viewPortWidth,t.viewPortHeight,t.position,t.zoomLevel,t.rotation);const l=r.subVector(o,s);this.panHandler.panCameraBy(t,l)}}class D extends V{constructor(t=void 0){super(t)}zoomCameraTo(t,i){i=e(i,t.zoomBoundaries),super.zoomCameraTo(t,i)}zoomCameraBy(t,i){let r=t.zoomLevel+i;r=e(r,t.zoomBoundaries),i=r-t.zoomLevel,super.zoomCameraBy(t,i)}zoomCameraToAt(t,i,r){i=e(i,t.zoomBoundaries),super.zoomCameraToAt(t,i,r)}zoomByAt(t,i,r){let o=t.zoomLevel+i;o=e(o,t.zoomBoundaries),i=o-t.zoomLevel,super.zoomCameraByAt(t,i,r)}}class R extends V{constructor(t=void 0){super(t),this._restrictZoom=!1}set restrictZoom(t){this._restrictZoom=t}get restrictZoom(){return this._restrictZoom}zoomCameraTo(t,e){this._restrictZoom||super.zoomCameraTo(t,e)}zoomCameraBy(t,e){this._restrictZoom||super.zoomCameraBy(t,e)}zoomCameraToAt(t,e,i){this._restrictZoom||super.zoomCameraToAt(t,e,i)}zoomCameraByAt(t,e,i){this._restrictZoom||super.zoomCameraByAt(t,e,i)}}class I extends V{constructor(t,e=void 0){super(e),this._baseHandler=new L(t),this._clampHandler=new D,this._restrictionHandler=new R,this._restrictionHandler.chainHandler(this._clampHandler).chainHandler(this._baseHandler),this._nextHandler=this._restrictionHandler}set restrictZoom(t){this._restrictionHandler.restrictZoom=t}get restrictZoom(){return this._restrictionHandler.restrictZoom}zoomCameraTo(t,e){super.zoomCameraTo(t,e)}zoomCameraBy(t,e){super.zoomCameraBy(t,e)}zoomCameraByAt(t,e,i){super.zoomCameraByAt(t,e,i)}zoomCameraToAt(t,e,i){super.zoomCameraToAt(t,e,i)}}function E(t,e,i,r){return new(i||(i=Promise))((function(o,n){function a(t){try{l(r.next(t))}catch(t){n(t)}}function s(t){try{l(r.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}\"function\"==typeof SuppressedError&&SuppressedError;class A{constructor(){this.panCallbackList=[],this.zoomCallbackList=[],this.rotateCallbackList=[]}notifyPositionChange(t,e){return E(this,void 0,void 0,(function*(){queueMicrotask((()=>{this.panCallbackList.forEach((i=>{i({diff:t},e)}))}))}))}notifyZoomChange(t,e){return E(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{this.zoomCallbackList.forEach((i=>{i({deltaZoomAmount:t},e)})),i()}))}))}notifyRotationChange(t,e){return E(this,void 0,void 0,(function*(){return new Promise(((i,r)=>{this.rotateCallbackList.forEach((i=>{i({deltaRotation:t},e)})),i()}))}))}on(t,e){switch(t){case\"pan\":return this.panCallbackList.push(e),()=>{this.panCallbackList=this.panCallbackList.filter((t=>t!==e))};case\"zoom\":return this.zoomCallbackList.push(e),()=>{this.zoomCallbackList=this.zoomCallbackList.filter((t=>t!==e))};case\"rotate\":return this.rotateCallbackList.push(e),()=>{this.rotateCallbackList=this.rotateCallbackList.filter((t=>t!==e))}}return()=>{}}clearCallbacks(){this.panCallbackList=[],this.zoomCallbackList=[],this.rotateCallbackList=[]}}class W{constructor(t=new A,e={x:0,y:0},i=1e3,r=1e3,o=1,n=0){this._position=e,this._zoomLevel=o,this._rotation=n,this._viewPortHeight=r,this._viewPortWidth=i,this._observer=t}get boundaries(){return this._boundaries}set boundaries(t){this._boundaries=t}get viewPortWidth(){return this._viewPortWidth}set viewPortWidth(t){this._viewPortWidth=t}get viewPortHeight(){return this._viewPortHeight}set viewPortHeight(t){this._viewPortHeight=t}get position(){return this._position}get observer(){return this._observer}setPosition(t){if(l(t,this._boundaries)){const e=r.subVector(t,this._position);if(r.magnitude(e)<1e-9&&r.magnitude(e)<1/this._zoomLevel)return;this._position=t,this._observer.notifyPositionChange(e,{position:this._position,rotation:this._rotation,zoomLevel:this._zoomLevel})}}get zoomLevel(){return this._zoomLevel}get zoomBoundaries(){return this._zoomBoundaries}set zoomBoundaries(t){if(void 0!==t&&void 0!==t.min&&void 0!==t.max&&t.min>t.max){let e=t.max;t.max=t.min,t.min=e}this._zoomBoundaries=t}setMaxZoomLevel(t){return null==this._zoomBoundaries&&(this._zoomBoundaries={min:void 0,max:void 0}),!(null!=this._zoomBoundaries.min&&this._zoomBoundaries.min>t||this._zoomLevel>t)&&(this._zoomBoundaries.max=t,!0)}setMinZoomLevel(t){return null==this._zoomBoundaries&&(this._zoomBoundaries={min:void 0,max:void 0}),!(null!=this._zoomBoundaries.max&&this._zoomBoundaries.max<t)&&(this._zoomBoundaries.min=t,this._zoomLevel<t&&(this._zoomLevel=t),!0)}setZoomLevel(t){if(i(t,this._zoomBoundaries)){if(void 0!==this._zoomBoundaries&&void 0!==this._zoomBoundaries.max&&e(t,this._zoomBoundaries)==this._zoomBoundaries.max&&this._zoomLevel==this._zoomBoundaries.max)return;if(void 0!==this._zoomBoundaries&&void 0!==this._zoomBoundaries.min&&e(t,this._zoomBoundaries)==this._zoomBoundaries.min&&this._zoomLevel==this._zoomBoundaries.min)return;const i=this._zoomLevel;this._zoomLevel=t,this._observer.notifyZoomChange(this._zoomLevel-i,{position:this._position,rotation:this._rotation,zoomLevel:this._zoomLevel})}}get rotation(){return this._rotation}get rotationBoundaries(){return this._rotationBoundaries}set rotationBoundaries(t){if(void 0!==t&&void 0!==t.start&&void 0!==t.end&&t.start>t.end){let e=t.end;t.end=t.start,t.start=e}this._rotationBoundaries=t}setRotation(t){if(_(t,this._rotationBoundaries)){if(t=p(t),void 0!==this._rotationBoundaries&&void 0!==this._rotationBoundaries.end&&x(t,this._rotationBoundaries)==this._rotationBoundaries.end&&this._rotation==this._rotationBoundaries.end)return;if(void 0!==this._rotationBoundaries&&void 0!==this.rotationBoundaries.start&&x(t,this._rotationBoundaries)==this._rotationBoundaries.start&&this._rotation==this._rotationBoundaries.start)return;this._observer.notifyRotationChange(t-this._rotation,{position:this._position,rotation:t,zoomLevel:this._zoomLevel}),this._rotation=t}}convertFromViewPort2WorldSpace(t){return n(t,this._viewPortWidth,this._viewPortHeight,this._position,this._zoomLevel,this._rotation)}invertFromWorldSpace2ViewPort(t){let e={x:this.viewPortWidth/2,y:this._viewPortHeight/2},i=r.subVector(t,this._position);return i=r.rotatePoint(i,-this._rotation),i=r.multiplyVectorByScalar(i,this._zoomLevel),r.addVector(e,i)}setHorizontalBoundaries(t,e){if(t>e){let i=e;e=t,t=i}null==this._boundaries&&(this._boundaries={min:{x:void 0,y:void 0},max:{x:void 0,y:void 0}}),this._boundaries.min.x=t,this._boundaries.max.x=e}setVerticalBoundaries(t,e){if(t>e){let i=e;e=t,t=i}null==this._boundaries&&(this._boundaries={min:{x:void 0,y:void 0},max:{x:void 0,y:void 0}}),this._boundaries.min.y=t,this._boundaries.max.y=e}on(t,e){return this._observer.on(t,e)}}class Y{constructor(t,e,i,r=!1,o=!0){this._panDisabled=!1,this._zoomDisabled=!1,this._rotateDisabled=!1,this._keyController=new Map,this.SCROLL_SENSATIVITY=.005,this.isDragging=!1,this._canvas=t,this._camera=e,this._debugMode=r,this._alignCoordinateSystem=o,this.bindFunctions(),this.inputObserver=i}get debugMode(){return this._debugMode}set debugMode(t){this._debugMode=t}get alignCoordinateSystem(){return this._alignCoordinateSystem}set alignCoordinateSystem(t){this._alignCoordinateSystem=t}get panDisabled(){return this._panDisabled}set panDisabled(t){this._panDisabled=t,t&&(this.canvas.style.cursor=\"auto\",this.isDragging=!1,this.dragStartPoint={x:0,y:0})}get zoomDisabled(){return this._zoomDisabled}set zoomDisabled(t){this._zoomDisabled=t}get rotateDisabled(){return this._rotateDisabled}set rotateDisabled(t){this._rotateDisabled=t}get camera(){return this._camera}set camera(t){this._camera=t}get canvas(){return this._canvas}setUp(){this.canvas.addEventListener(\"pointerdown\",this.pointerDownHandler),this.canvas.addEventListener(\"pointerup\",this.pointerUpHandler),this.canvas.addEventListener(\"pointermove\",this.pointerMoveHandler),this.canvas.addEventListener(\"wheel\",this.scrollHandler),window.addEventListener(\"keydown\",this.keypressHandler),window.addEventListener(\"keyup\",this.keyupHandler),this.setupKeyController([\" \"])}tearDown(){this.canvas.removeEventListener(\"pointerdown\",this.pointerDownHandler),this.canvas.removeEventListener(\"pointerup\",this.pointerUpHandler),this.canvas.removeEventListener(\"pointermove\",this.pointerMoveHandler),this.canvas.removeEventListener(\"wheel\",this.scrollHandler),window.removeEventListener(\"keydown\",this.keypressHandler),window.removeEventListener(\"keyup\",this.keyupHandler)}bindFunctions(){this.pointerDownHandler=this.pointerDownHandler.bind(this),this.pointerUpHandler=this.pointerUpHandler.bind(this),this.pointerMoveHandler=this.pointerMoveHandler.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.keypressHandler=this.keypressHandler.bind(this),this.keyupHandler=this.keyupHandler.bind(this)}setupKeyController(t){t.forEach((t=>{this._keyController.set(t,!1)}))}pointerDownHandler(t){this._disabled||\"mouse\"!==t.pointerType||1!=t.button&&!t.metaKey&&!this._keyController.get(\" \")||this._panDisabled||(this.isDragging=!0,this.dragStartPoint={x:t.clientX,y:t.clientY})}disableStrategy(){this.isDragging=!1,this.dragStartPoint={x:0,y:0},this._disabled=!0}enableStrategy(){this._disabled=!1}pointerUpHandler(t){this._disabled||\"mouse\"===t.pointerType&&(this.isDragging&&(this.isDragging=!1),this._debugMode?this.canvas.style.cursor=\"none\":this.canvas.style.cursor=\"auto\")}pointerMoveHandler(t){if(!this._disabled&&\"mouse\"==t.pointerType&&this.isDragging&&!this._panDisabled){this._debugMode?this.canvas.style.cursor=\"none\":this.canvas.style.cursor=\"grabbing\";const e={x:t.clientX,y:t.clientY};let i=r.subVector(this.dragStartPoint,e);this._alignCoordinateSystem||(i=r.flipYAxis(i));let o=r.rotatePoint(i,this._camera.rotation);o=r.multiplyVectorByScalar(o,1/this._camera.zoomLevel),this.inputObserver.notifyOnPan(this._camera,o),this.dragStartPoint=e}}scrollHandler(t){if(this._disabled)return;t.preventDefault();const e=t.deltaY*this.SCROLL_SENSATIVITY;if(t.ctrlKey){if(this._zoomDisabled)return;const i={x:t.clientX,y:t.clientY};let o=r.subVector(i,{x:this.canvas.getBoundingClientRect().left,y:this.canvas.getBoundingClientRect().top});this._alignCoordinateSystem||(o=r.subVector(i,{x:this.canvas.getBoundingClientRect().left,y:this.canvas.getBoundingClientRect().bottom}),o=r.flipYAxis(o)),this.inputObserver.notifyOnZoom(this._camera,-this._camera.zoomLevel*e*5,o)}else{if(this._panDisabled)return;let e={x:t.deltaX,y:t.deltaY};this._alignCoordinateSystem||(e=r.flipYAxis(e));let i=r.rotatePoint(e,this._camera.rotation);i=r.multiplyVectorByScalar(i,1/this._camera.zoomLevel),this.inputObserver.notifyOnPan(this._camera,i)}}keypressHandler(t){this._keyController.has(t.key)&&0==this._keyController.get(t.key)&&(t.preventDefault(),this._keyController.set(t.key,!0))}keyupHandler(t){this._keyController.has(t.key)&&1==this._keyController.get(t.key)&&(t.preventDefault(),this._keyController.set(t.key,!1),this.isDragging=!1,this.canvas.style.cursor=\"auto\")}updateCamera(t){this._camera=t}get disabled(){return this._disabled}}class Z{constructor(t,e,i,r=!0){this._panDisabled=!1,this._zoomDisabled=!1,this._rotateDisabled=!1,this.isDragging=!1,this.ZOOM_SENSATIVITY=.005,this.panInputCallBackList=[],this.zoomInputCallBackList=[],this.controlCamera=e,this.canvas=t,this._disabled=!1,this.touchPoints=[],this.zoomStartDist=0,this.isDragging=!1,this.dragStartPoint={x:0,y:0},this._alignCoordinateSystem=r,this.inputObserver=i,this.bindListeners()}bindListeners(){this.touchstartHandler=this.touchstartHandler.bind(this),this.touchendHandler=this.touchendHandler.bind(this),this.touchcancelHandler=this.touchcancelHandler.bind(this),this.touchmoveHandler=this.touchmoveHandler.bind(this)}resetAttributes(){this.touchPoints=[],this.zoomStartDist=0,this.isDragging=!1,this.dragStartPoint=null,this.tapPoint=null}enableStrategy(){this._disabled=!1}disableStrategy(){this.resetAttributes(),this._disabled=!0}setUp(){this.canvas.addEventListener(\"touchstart\",this.touchstartHandler),this.canvas.addEventListener(\"touchend\",this.touchendHandler),this.canvas.addEventListener(\"touchcancel\",this.touchcancelHandler),this.canvas.addEventListener(\"touchmove\",this.touchmoveHandler)}tearDown(){this.resetAttributes(),this.canvas.removeEventListener(\"touchstart\",this.touchstartHandler),this.canvas.removeEventListener(\"touchend\",this.touchendHandler),this.canvas.removeEventListener(\"touchcancel\",this.touchcancelHandler),this.canvas.removeEventListener(\"touchmove\",this.touchmoveHandler)}get disabled(){return this._disabled}get alignCoordinateSystem(){return this._alignCoordinateSystem}set alignCoordinateSystem(t){this._alignCoordinateSystem=t}get panDisabled(){return this._panDisabled}set panDisabled(t){this._panDisabled=t}get zoomDisabled(){return this._zoomDisabled}set zoomDisabled(t){this._zoomDisabled=t}get rotateDisabled(){return this._rotateDisabled}set rotateDisabled(t){this._rotateDisabled=t}get camera(){return this.controlCamera}set camera(t){this.controlCamera=t}updateCamera(t){this.controlCamera=t}touchstartHandler(t){if(!this._disabled)if(t.preventDefault(),2===t.targetTouches.length){this.isDragging=!1;let e={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY},i={x:t.targetTouches[1].clientX,y:t.targetTouches[1].clientY};this.zoomStartDist=r.distanceBetweenPoints(e,i),this.touchPoints=[e,i]}else 1===t.targetTouches.length&&(this.tapPoint={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY},this.tapPoint=this.controlCamera.convertFromViewPort2WorldSpace(this.convertWindowPoint2ViewPortPoint({x:this.canvas.getBoundingClientRect().left,y:this.canvas.getBoundingClientRect().top},this.tapPoint)),this.isDragging=!0,this.dragStartPoint={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY})}touchcancelHandler(t){this._disabled||(this.isDragging=!1,this.touchPoints=[])}touchendHandler(t){this._disabled||(this.isDragging=!1,this.touchPoints=[])}touchmoveHandler(t){if(!this._disabled)if(t.preventDefault(),2==t.targetTouches.length&&2==this.touchPoints.length){if(this._zoomDisabled)return;let e={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY},i={x:t.targetTouches[1].clientX,y:t.targetTouches[1].clientY},o=r.distanceBetweenPoints(e,i),n=this.zoomStartDist-o,a=r.linearInterpolation(e,i,.5);a=this._alignCoordinateSystem?this.convertWindowPoint2ViewPortPoint({x:this.canvas.getBoundingClientRect().left,y:this.canvas.getBoundingClientRect().top},a):this.convertWindowPoint2ViewPortPoint({x:this.canvas.getBoundingClientRect().left,y:this.canvas.getBoundingClientRect().bottom},a);let s=.1*n*this.controlCamera.zoomLevel*this.ZOOM_SENSATIVITY;this.inputObserver.notifyOnZoom(this.controlCamera,-s,a),this.touchPoints=[e,i],this.tapPoint=null}else if(1==t.targetTouches.length&&this.isDragging&&!this._panDisabled){let e={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY},i=r.subVector(this.dragStartPoint,e);this._alignCoordinateSystem||(i=r.flipYAxis(i));let o=r.rotatePoint(i,this.controlCamera.rotation);o=r.multiplyVectorByScalar(o,1/this.controlCamera.zoomLevel),this.inputObserver.notifyOnPan(this.controlCamera,o),this.dragStartPoint=e,this.tapPoint=null}}convertWindowPoint2ViewPortPoint(t,e){const i=r.subVector(e,t);return this._alignCoordinateSystem?{x:i.x,y:i.y}:{x:i.x,y:-i.y}}}function X(t,e,i,r){const o=d(t),n=b(t);if(null==o||null==n)return;let a=e/Math.abs(o*Math.cos(r)),s=e/Math.abs(n*Math.cos(r)),l=i/Math.abs(o*Math.sin(r)),h=i/Math.abs(n*Math.sin(r));a==1/0&&(a=0),s==1/0&&(s=0),l==1/0&&(l=0),h==1/0&&(h=0);const c=i/n,u=e/o;return Math.max(c,u,a,s,l,h)}function F(t,e){return null!=e&&(null==t||e!=1/0&&(void 0!==t&&(null==t.min||e>t.min)))}function $(t,e,i,r){const o=d(t);if(null==o)return;const n=Math.abs(o*Math.cos(r)),a=Math.abs(o*Math.sin(r));if(e/n==1/0)return i/a;return Math.max(e/n,i/a)}function U(t,e,i,r){const o=b(t);if(null==o)return;const n=e/Math.abs(o*Math.cos(r)),a=i/Math.abs(o*Math.sin(r));if(a==1/0)return n;return Math.max(n,a)}function q(t){if(t<=0)return 0;let e=0;if(t<1){let i=1;for(;i>t;)i/=10,e--}else{let i=1;for(;10*i<=t;)i*=10,e++}return e}function Q(t,e,i,r,o,n=\"red\"){let a=o/2;a/=i,t.beginPath(),t.strokeStyle=n,t.lineWidth=2/i,r?(t.moveTo(e.x-a,e.y),t.lineTo(e.x+a,e.y),t.moveTo(e.x,e.y-a),t.lineTo(e.x,e.y+a)):(t.moveTo(e.x-a,-e.y),t.lineTo(e.x+a,-e.y),t.moveTo(e.x,-e.y-a),t.lineTo(e.x,-e.y+a)),t.stroke(),t.lineWidth=3}function N(t,e,i){if(!c(e))return;const r=d(e),o=b(e),n=null==e?void 0:e.min,a=null==n?void 0:n.x,s=null==n?void 0:n.y;null!=a&&null!=s&&null!=r&&null!=o&&(t.beginPath(),t.strokeStyle=\"blue\",t.lineWidth=100,i?t.roundRect(a,s,r,o,5):t.roundRect(a,-s,r,-o,5),t.stroke(),t.lineWidth=3,t.strokeStyle=\"black\")}function K(t,e,i,r){if(!c(e))return;const o=d(e),n=b(e),a=null==e?void 0:e.min,s=null==a?void 0:a.x,l=null==a?void 0:a.y;null!=s&&null!=l&&null!=o&&null!=n&&(t.lineWidth=1/i,t.beginPath(),t.strokeStyle=\"rgba(87, 173, 72, 0.8)\",t.moveTo(0,0),r?t.lineTo(0,l+n):t.lineTo(0,-l-n),t.stroke(),t.beginPath(),t.strokeStyle=\"rgba(220, 59, 59, 0.8)\",t.moveTo(0,0),t.lineTo(s+o,0),t.stroke(),t.strokeStyle=\"black\")}function j(t,e,i,o,n,a,s,l,h){r.unitVectorFromA2B(e,i),r.unitVectorFromA2B(o,e);let c=r.distanceBetweenPoints(e,i),u=q(c),d=Math.pow(10,u)/10,m=Math.ceil(e.x/d)*d,b=Math.floor(i.x/d)*d,y=a?Math.floor(e.y/d)*d:Math.ceil(o.y/d)*d,v=a?Math.ceil(o.y/d)*d:Math.floor(e.y/d)*d;for(let i=m;i<=b;i+=d)t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=.5/s,a?(t.moveTo(i,e.y),t.lineTo(i,e.y+h/s)):(t.moveTo(i,-e.y),t.lineTo(i,-e.y+h/s)),t.stroke();for(let i=y;i<=v;i+=d)t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=.5/s,a?(t.moveTo(e.x,i),t.lineTo(e.x+c/s,i)):(t.moveTo(e.x,-i),t.lineTo(e.x+c/s,-i)),t.stroke()}function G(t,e,i,o,n,a,s){let l=r.unitVectorFromA2B(e,i),h=r.unitVectorFromA2B(o,e),c=q(r.distanceBetweenPoints(e,i)),u=Math.pow(10,c),d=u/2,m=u/10,b=Math.ceil(e.x/u)*u,y=Math.floor(i.x/u)*u,v=a?Math.ceil(e.y/u)*u:Math.floor(o.y/u)*u,x=a?Math.floor(o.y/u)*u:Math.ceil(e.y/u)*u,_=Math.ceil(e.x/d)*d,p=Math.floor(i.x/d)*d,g=a?Math.ceil(e.y/d)*d:Math.floor(o.y/d)*d,f=a?Math.floor(o.y/d)*d:Math.ceil(e.y/d)*d,C=Math.ceil(e.x/m)*m,z=Math.floor(i.x/m)*m,S=a?Math.ceil(e.y/m)*m:Math.floor(o.y/m)*m,H=a?Math.floor(o.y/m)*m:Math.ceil(e.y/m)*m,w=d*s,T=m*s;t.font=`bold ${20/s}px Helvetica`;const B=t.measureText(\"\"+-(d+_)),P=B.fontBoundingBoxAscent+B.fontBoundingBoxDescent,M=t.measureText(\"\"+-(m+C)),k=M.fontBoundingBoxAscent+M.fontBoundingBoxDescent;for(let i=b;i<=y;i+=u){t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=5/s;let o=r.addVector({x:i,y:e.y},r.multiplyVectorByScalar(h,50/s));a?t.moveTo(o.x,o.y):t.moveTo(o.x,-o.y),o=r.addVector({x:i,y:e.y},r.multiplyVectorByScalar(h,-50/s)),a?t.lineTo(o.x,o.y):t.lineTo(o.x,-o.y),t.textAlign=\"center\",t.textBaseline=\"middle\",t.font=`bold ${20/s}px Helvetica`;const n=t.measureText(`${i.toFixed(0)}`),l=n.fontBoundingBoxAscent+n.fontBoundingBoxDescent;a?(o=r.addVector(o,{x:0,y:l/2+.2*l}),t.fillText(`${i.toFixed(0)}`,o.x,o.y)):(o=r.addVector(o,{x:0,y:-l/2-.2*l}),t.fillText(`${i.toFixed(0)}`,o.x,-o.y)),t.stroke()}for(let i=v;i<=x;i+=u){t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=5/s;let o=r.addVector({x:e.x,y:i},r.multiplyVectorByScalar(l,-50/s));a?t.moveTo(o.x,o.y):t.moveTo(o.x,-o.y),o=r.addVector({x:e.x,y:i},r.multiplyVectorByScalar(l,50/s)),a?t.lineTo(o.x,o.y):t.lineTo(o.x,-o.y),t.textAlign=\"center\",t.textBaseline=\"middle\",t.font=`bold ${20/s}px Helvetica`;const n=t.measureText(`${i.toFixed(0)}`);o=r.addVector(o,{x:n.width/2+.3*n.width,y:0}),a?t.fillText(`${i.toFixed(0)}`,o.x,o.y):t.fillText(`${i.toFixed(0)}`,o.x,-o.y),t.stroke()}for(let i=_;i<=p;i+=d){if(i%u==0)continue;t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=3/s;let o=r.addVector({x:i,y:e.y},r.multiplyVectorByScalar(h,25/s));a?t.moveTo(o.x,o.y):t.moveTo(o.x,-o.y),o=r.addVector({x:i,y:e.y},r.multiplyVectorByScalar(h,-25/s)),a?t.lineTo(o.x,o.y):t.lineTo(o.x,-o.y),t.font=15/s+\"px Helvetica\";const n=t.measureText(`${i.toFixed(0)}`);if(w>2*B.width){t.textAlign=\"center\",t.textBaseline=\"middle\";const e=n.fontBoundingBoxAscent+n.fontBoundingBoxDescent;a?o=r.addVector(o,{x:0,y:e/2+.2*e}):(o=r.addVector(o,{x:0,y:-e/2-.2*e}),o=r.flipYAxis(o)),t.fillText(`${i.toFixed(0)}`,o.x,o.y)}t.stroke()}for(let i=g;i<=f;i+=d){if(i%u==0)continue;t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=3/s;let o=r.addVector({x:e.x,y:i},r.multiplyVectorByScalar(l,-25/s));a?t.moveTo(o.x,o.y):t.moveTo(o.x,-o.y),o=r.addVector({x:e.x,y:i},r.multiplyVectorByScalar(l,25/s)),a?t.lineTo(o.x,o.y):t.lineTo(o.x,-o.y),t.font=18/s+\"px Helvetica\";const n=t.measureText(`${i.toFixed(0)}`);n.fontBoundingBoxAscent,n.fontBoundingBoxDescent,w>2*P&&(t.textAlign=\"center\",t.textBaseline=\"middle\",o=r.addVector(o,{x:n.width/2+.3*n.width,y:0}),a||(o=r.flipYAxis(o)),t.fillText(`${i.toFixed(0)}`,o.x,o.y)),t.stroke()}for(let i=C;i<=z;i+=m){if(i%u==0||i%d==0)continue;t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=1/s;let o=r.addVector({x:i,y:e.y},r.multiplyVectorByScalar(h,12.5/s));a?t.moveTo(o.x,o.y):t.moveTo(o.x,-o.y),o=r.addVector({x:i,y:e.y},r.multiplyVectorByScalar(h,-12.5/s)),a?t.lineTo(o.x,o.y):t.lineTo(o.x,-o.y),t.font=10/s+\"px Helvetica\";const n=t.measureText(`${i.toFixed(0)}`);if(T>2*M.width){t.textAlign=\"center\",t.textBaseline=\"middle\";const e=n.fontBoundingBoxAscent+n.fontBoundingBoxDescent;a?o=r.addVector(o,{x:0,y:e/2+.2*e}):(o=r.addVector(o,{x:0,y:-e/2-.2*e}),o=r.flipYAxis(o)),t.fillText(`${i.toFixed(0)}`,o.x,o.y)}t.stroke()}for(let i=S;i<=H;i+=m){if(i%u==0||i%d==0)continue;t.beginPath(),t.strokeStyle=\"black\",t.fillStyle=\"black\",t.lineWidth=1/s;let o=r.addVector({x:e.x,y:i},r.multiplyVectorByScalar(l,-12.5/s));a?t.moveTo(o.x,o.y):t.moveTo(o.x,-o.y),o=r.addVector({x:e.x,y:i},r.multiplyVectorByScalar(l,12.5/s)),a?t.lineTo(o.x,o.y):t.lineTo(o.x,-o.y),t.font=12/s+\"px Helvetica\";const n=t.measureText(`${i.toFixed(0)}`);n.fontBoundingBoxAscent,n.fontBoundingBoxDescent,T>2*k&&(t.textAlign=\"center\",t.textBaseline=\"middle\",o=r.addVector(o,{x:n.width/2+.3*n.width,y:0}),a||(o=r.flipYAxis(o)),t.fillText(`${i.toFixed(0)}`,o.x,o.y)),t.stroke()}}function J(t,e,i,r,o=20,n=\"red\"){o/=i,t.font=20/i+\"px Arial\",t.fillStyle=n,r?t.fillText(`x: ${e.x.toFixed(2)}, y: ${e.y.toFixed(2)}`,e.x+o,e.y+o):t.fillText(`x: ${e.x.toFixed(2)}, y: ${e.y.toFixed(2)}`,e.x+o,-e.y-o),t.fillStyle=\"black\"}function tt(t,e,i){t.beginPath(),t.strokeStyle=\"rgba(87, 173, 72, 0.8)\",i?t.arc(e.x,e.y,5,0,2*Math.PI):t.arc(e.x,-e.y,5,0,2*Math.PI),t.stroke(),t.strokeStyle=\"black\"}class et{constructor(t){this.cameraSubscribers=[],this.panHandlerSubscribers=[],this.zoomHandlerSubscribers=[],this.rotationHandlerSubscribers=[],this._camera=t}subscribeToCamera(t){this.cameraSubscribers.push(t)}unsubscribeToCamera(t){this.cameraSubscribers=this.cameraSubscribers.filter((e=>e!==t))}subscribeToPanHandler(t){this.panHandlerSubscribers.push(t)}unsubscribeToPanHandler(t){this.panHandlerSubscribers=this.panHandlerSubscribers.filter((e=>e!==t))}subscribeToZoomHandler(t){this.zoomHandlerSubscribers.push(t)}unsubscribeToZoomHandler(t){this.zoomHandlerSubscribers=this.zoomHandlerSubscribers.filter((e=>e!==t))}subscribeToRotationHandler(t){return this.rotationHandlerSubscribers.push(t),()=>{this.rotationHandlerSubscribers=this.rotationHandlerSubscribers.filter((e=>e!==t))}}get camera(){return this._camera}set camera(t){this._camera=t,this.notifyCameraChange()}get panHandler(){return this._panHandler}set panHandler(t){this._panHandler=t,this.notifyPanHandlerChange()}get zoomHandler(){return this._zoomHandler}set zoomHandler(t){this._zoomHandler=t,this.notifyZoomHandlerChange()}get rotationHandler(){return this._rotationHandler}set rotationHandler(t){this._rotationHandler=t,this.notifyRotationHandlerChange()}notifyCameraChange(){this.cameraSubscribers.forEach((t=>t.updateCamera(this._camera)))}notifyPanHandlerChange(){this.panHandlerSubscribers.forEach((t=>t.updatePanHandler(this._panHandler)))}notifyZoomHandlerChange(){this.zoomHandlerSubscribers.forEach((t=>t.updateZoomHandler(this._zoomHandler)))}notifyRotationHandlerChange(){this.rotationHandlerSubscribers.forEach((t=>t.updateRotationHandler(this._rotationHandler)))}}class it{constructor(t){this.panCallbackList=[],this.zoomCallbackList=[],this.rotateCallbackList=[],this._controlCenter=t}notifyOnPan(t,e){this._controlCenter.notifyPanInput(t,e),this.panCallbackList.forEach((t=>{queueMicrotask((()=>{t({diff:e})}))}))}notifyOnZoom(t,e,i){this._controlCenter.notifyZoomInput(t,e,i),this.zoomCallbackList.forEach((t=>{queueMicrotask((()=>{t({deltaZoomAmount:e,anchorPoint:i})}))}))}notifyOnRotation(t,e){this._controlCenter.notifyRotationInput(t,e),this.rotateCallbackList.forEach((t=>{queueMicrotask((()=>{t({deltaRotation:e})}))}))}onInput(t,e){switch(t){case\"pan\":return this.panCallbackList.push(e),()=>{this.panCallbackList=this.panCallbackList.filter((t=>t!==e))};case\"zoom\":return this.zoomCallbackList.push(e),()=>{this.zoomCallbackList=this.zoomCallbackList.filter((t=>t!==e))};case\"rotate\":return this.rotateCallbackList.push(e),()=>{this.rotateCallbackList=this.rotateCallbackList.filter((t=>t!==e))};default:throw new Error(\"Invalid input event name\")}}get controlCenter(){return this._controlCenter}set controlCenter(t){this._controlCenter=t}}class rt{constructor(t,e,i){this._panController=t,this._zoomController=e,this._rotationController=i}get panController(){return this._panController}get zoomController(){return this._zoomController}get rotationController(){return this._rotationController}notifyPanInput(t,e){this._panController.panCameraBy(t,e)}notifyZoomInput(t,e,i){this._zoomController.zoomCameraToAt(t,t.zoomLevel+e,i)}notifyRotationInput(t,e){this._rotationController.rotateCameraBy(t,e)}}class ot{constructor(t){this._alignCoordinateSystem=!0,this._fullScreen=!1,this.lastUpdateTime=0,this._canvas=t,this.boardStateObserver=new et(new W),this.boardStateObserver.camera.viewPortHeight=t.height,this.boardStateObserver.camera.viewPortWidth=t.width,this.boardStateObserver.camera.boundaries={min:{x:-5e3,y:-5e3},max:{x:5e3,y:5e3}};let e=t.getContext(\"2d\");if(null==e)throw new Error(\"Canvas 2d context is null\");this._context=e;let i=new T,r=new I(i),o=new O;this.bindFunctions(),this.attributeObserver=new MutationObserver(this.attributeCallBack),this.attributeObserver.observe(this._canvas,{attributes:!0}),this.windowResizeObserver=new ResizeObserver(this.windowResizeHandler),this.windowResizeObserver.observe(document.body),this.boardInputObserver=new it(new rt(i,r,o)),this._kmtStrategy=new Y(this._canvas,this.boardStateObserver.camera,this.boardInputObserver),this.boardStateObserver.subscribeToCamera(this._kmtStrategy),this._touchStrategy=new Z(this._canvas,this.boardStateObserver.camera,this.boardInputObserver),this.boardStateObserver.subscribeToCamera(this._touchStrategy),this.registerEventListeners()}registerEventListeners(){this._kmtStrategy.setUp(),this._touchStrategy.setUp()}removeEventListeners(){this._touchStrategy.tearDown(),this._kmtStrategy.tearDown()}setup(){this.registerEventListeners(),this.windowResizeObserver.observe(document.body),this.attributeObserver.observe(this._canvas,{attributes:!0})}tearDown(){this.removeEventListeners(),this.windowResizeObserver.disconnect(),this.attributeObserver.disconnect()}bindFunctions(){this.step=this.step.bind(this),this.attributeCallBack=this.attributeCallBack.bind(this),this.windowResizeHandler=this.windowResizeHandler.bind(this)}set width(t){if(this._canvas.width=t,this.boardStateObserver.camera.viewPortWidth=t,this.boardInputObserver.controlCenter.panController.limitEntireViewPort){const t=$(this.boardStateObserver.camera.boundaries,this._canvas.width,this._canvas.height,this.boardStateObserver.camera.rotation);null!=t&&F(this.boardStateObserver.camera.zoomBoundaries,t)&&this.boardStateObserver.camera.setMinZoomLevel(t)}}get width(){return this._canvas.width}set height(t){if(this._canvas.height=t,this.boardStateObserver.camera.viewPortHeight=t,this.boardInputObserver.controlCenter.panController.limitEntireViewPort){const t=U(this.boardStateObserver.camera.boundaries,this._canvas.width,this._canvas.height,this.boardStateObserver.camera.rotation);null!=t&&F(this.boardStateObserver.camera.zoomBoundaries,t)&&this.boardStateObserver.camera.setMinZoomLevel(t)}}get height(){return this._canvas.height}set alignCoordinateSystem(t){this._alignCoordinateSystem=t,this._kmtStrategy.alignCoordinateSystem=t,this._touchStrategy.alignCoordinateSystem=t}get alignCoordinateSystem(){return this._alignCoordinateSystem}get fullScreen(){return this._fullScreen}set fullScreen(t){this._fullScreen=t,this._fullScreen&&(this.width=window.innerWidth,this.height=window.innerHeight)}get context(){return this._context}set limitEntireViewPort(t){if(this.boardInputObserver.controlCenter.panController.limitEntireViewPort=t,t){const t=X(this.boardStateObserver.camera.boundaries,this._canvas.width,this._canvas.height,this.boardStateObserver.camera.rotation);null!=t&&F(this.boardStateObserver.camera.zoomBoundaries,t)&&this.boardStateObserver.camera.setMinZoomLevel(t)}}get limitEntireViewPort(){return this.boardInputObserver.controlCenter.panController.limitEntireViewPort}set kmtStrategy(t){this._kmtStrategy.tearDown(),this.boardStateObserver.unsubscribeToCamera(this._kmtStrategy),t.setUp(),this._kmtStrategy=t,this.boardStateObserver.subscribeToCamera(this._kmtStrategy),this._kmtStrategy.camera=this.boardStateObserver.camera}get kmtStrategy(){return this._kmtStrategy}set touchStrategy(t){this._touchStrategy.tearDown(),this.boardStateObserver.unsubscribeToCamera(this._touchStrategy),t.setUp(),this._touchStrategy=t,this.boardStateObserver.subscribeToCamera(this._touchStrategy),this._touchStrategy.camera=this.boardStateObserver.camera}get touchStrategy(){return this._touchStrategy}get camera(){return this.boardStateObserver.camera}set camera(t){t.viewPortHeight=this._canvas.height,t.viewPortWidth=this._canvas.width,this.boardStateObserver.camera=t}set panHandler(t){this.boardInputObserver.controlCenter.panController=t}get panHandler(){return this.boardInputObserver.controlCenter.panController}set zoomHandler(t){this.boardStateObserver.zoomHandler=t}get zoomHandler(){return this.boardStateObserver.zoomHandler}set controlCenter(t){let e=this.boardInputObserver.controlCenter.panController,i=this.boardInputObserver.controlCenter.zoomController,r=this.boardInputObserver.controlCenter.rotationController;t.panController=e,t.zoomController=i,t.rotationController=r,this.boardInputObserver.controlCenter=t}get controlCenter(){return this.boardInputObserver.controlCenter}step(t){this.lastUpdateTime,this.lastUpdateTime=t,this._context.reset();const e=this.boardStateObserver.camera.boundaries;if(!c(e))throw new Error(\"Boundaries are not fully defined; not able to clear the canvas under the current implementation\");this._context.clearRect(e.min.x,-e.min.y,e.max.x-e.min.x,-(e.max.y-e.min.y)),this._context.translate(this._canvas.width/2,this._canvas.height/2),this._context.scale(this.boardStateObserver.camera.zoomLevel,this.boardStateObserver.camera.zoomLevel),this._alignCoordinateSystem?(this._context.rotate(-this.boardStateObserver.camera.rotation),this._context.translate(-this.boardStateObserver.camera.position.x,-this.boardStateObserver.camera.position.y)):(this._context.rotate(this.boardStateObserver.camera.rotation),this._context.translate(-this.boardStateObserver.camera.position.x,this.boardStateObserver.camera.position.y))}convertWindowPoint2ViewPortPoint(t,e){const i=r.subVector(e,t);return this._alignCoordinateSystem?{x:i.x,y:i.y}:{x:i.x,y:-i.y}}convertWindowPoint2WorldCoord(t){if(this._alignCoordinateSystem){const e=this.convertWindowPoint2ViewPortPoint({y:this._canvas.getBoundingClientRect().top,x:this._canvas.getBoundingClientRect().left},t);return this.boardStateObserver.camera.convertFromViewPort2WorldSpace(e)}{const e=this.convertWindowPoint2ViewPortPoint({y:this._canvas.getBoundingClientRect().bottom,x:this._canvas.getBoundingClientRect().left},t);return this.boardStateObserver.camera.convertFromViewPort2WorldSpace(e)}}on(t,e){return this.boardStateObserver.camera.on(t,e)}onInput(t,e){return this.boardInputObserver.onInput(t,e)}get maxHalfTransHeight(){return y(this.boardStateObserver.camera.boundaries)}get maxHalfTransWidth(){return m(this.boardStateObserver.camera.boundaries)}attributeCallBack(t,e){for(let e of t)if(\"attributes\"===e.type)if(\"width\"===e.attributeName){if(this.boardStateObserver.camera.viewPortWidth=this._canvas.width,this.limitEntireViewPort){const t=$(this.boardStateObserver.camera.boundaries,this._canvas.width,this._canvas.height,this.boardStateObserver.camera.rotation);F(this.boardStateObserver.camera.zoomBoundaries,t)&&this.boardStateObserver.camera.setMinZoomLevel(t)}}else if(\"height\"===e.attributeName&&(this.boardStateObserver.camera.viewPortHeight=this._canvas.height,this.limitEntireViewPort)){const t=U(this.boardStateObserver.camera.boundaries,this._canvas.width,this._canvas.height,this.boardStateObserver.camera.rotation);F(this.boardStateObserver.camera.zoomBoundaries,t)&&this.boardStateObserver.camera.setMinZoomLevel(t)}}windowResizeHandler(){this._fullScreen&&(this.width=window.innerWidth,this.height=window.innerHeight)}setMaxTransWidthAlignedMin(t){const e=this.boardStateObserver.camera.boundaries,i=null==e?void 0:e.min,r=null==i?void 0:i.x;if(null==r?this.boardStateObserver.camera.setHorizontalBoundaries(-t,t):this.boardStateObserver.camera.setHorizontalBoundaries(r,r+2*t),this.limitEntireViewPort){const t=$(this.boardStateObserver.camera.boundaries,this._canvas.width,this._canvas.height,this.boardStateObserver.camera.rotation);F(this.boardStateObserver.camera.zoomBoundaries,t)&&this.boardStateObserver.camera.setMinZoomLevel(t)}}}function nt(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}var at=Object.freeze({__proto__:null,easeInBack:function(t){const e=1.70158;return 2.70158*t*t*t-e*t*t},easeInBounce:function(t){return 1-nt(1-t)},easeInCirc:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},easeInCubic:function(t){return t*t*t},easeInElastic:function(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*t-10)},easeInOutBack:function(t){const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2},easeInOutBounce:function(t){return t<.5?(1-nt(1-2*t))/2:(1+nt(2*t-1))/2},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInOutElastic:function(t){const e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInQuad:function(t){return t*t},easeInQuart:function(t){return t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeInSine:function(t){return 1-Math.cos(t*Math.PI/2)},easeOutBack:function(t){const e=1.70158;return 1+2.70158*Math.pow(t-1,3)+e*Math.pow(t-1,2)},easeOutBounce:nt,easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeOutCubic:function(t){return 1-Math.pow(1-t,3)},easeOutElastic:function(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeOutQuart:function(t){return 1-Math.pow(1-t,4)},easeOutQuint:function(t){return 1-Math.pow(1-t,5)},easeOutSine:function(t){return Math.sin(t*Math.PI/2)},linear:function(t){return t}});export{S as BasePanHandler,P as BaseRotationHandler,L as BaseZoomHandler,ot as Board,W as BoardCameraV2,et as BoardStateObserver,A as CameraObserverV2,H as ClampHandler,Y as DefaultBoardKMTStrategy,Z as DefaultTouchStrategy,at as EaseFunctions,it as InputObserver,z as PanHandlerBoilerPlate,T as PanRig,w as PanWithRestriction,k as RotationClampHandler,B as RotationHandlerBoilerPlate,M as RotationRestrictionHandler,O as RotationRig,rt as SimpleRelay,D as ZoomClampHandler,V as ZoomHandlerBoilerPlate,R as ZoomRestrictionHandler,I as ZoomRig,g as angleSpan,c as boundariesFullyDefined,q as calculateOrderOfMagnitude,u as clampPoint,v as clampPointEntireViewPort,x as clampRotation,e as clampZoomLevel,n as convert2WorldSpace,o as convert2WorldSpaceWRT,f as deg2rad,K as drawAxis,N as drawBoundingBox,Q as drawCrossHair,j as drawGrid,J as drawPositionText,tt as drawReferenceCircle,G as drawRuler,y as halfTranslationHeightOf,m as halfTranslationWidthOf,a as invertFromWorldSpace,h as isValidBoundaries,t as isValidZoomLevelLimits,X as minZoomLevelBaseOnDimensions,U as minZoomLevelBaseOnHeight,$ as minZoomLevelBaseOnWidth,p as normalizeAngleZero2TwoPI,s as pointIsInViewPort,C as rad2deg,_ as rotationWithinLimits,b as translationHeightOf,d as translationWidthOf,l as withinBoundaries,F as zoomLevelBoundariesShouldUpdate,i as zoomLevelWithinLimits};\n//# sourceMappingURL=index.mjs.map\n","import { World, VisaulCircleBody, VisualPolygonBody, RigidBody } from \"@niuee/bolt\";\nimport { Board } from \"@niuee/board\";\nimport { PinJoint, FixedPinJoint } from \"@niuee/bolt\";\n\nconst world = new World(1000, 1000);\nworld.resolveCollision = false;\nconst bodies: RigidBody[] = [];\nconst randomPoint = randomPointGenerator({x: -500, y: -500}, {x: 500, y: 500});\n\nconst canvas = document.getElementById(\"test-graph\") as HTMLCanvasElement;\nconst board = new Board(canvas);\n\nconst forceMap = {\n    \"ArrowUp\": false,\n    \"ArrowDown\": false,\n    \"ArrowLeft\": false,\n    \"ArrowRight\": false,\n    \"KeyQ\": false,\n    \"KeyE\": false\n}\n\nconst abLength = 200;\nconst linkageLength = 150;\nconst acLinkInitialOrientation = 90 * Math.PI / 180 - Math.acos((abLength / 4) / linkageLength);\nconst bdLinkInitialOrientation = 180 * Math.PI / 180 - Math.acos((abLength / 4) / linkageLength);\nconst cTriangleLinkInitialCenter = {x: abLength / 4, y: -linkageLength * Math.sin(90 * Math.PI / 180 - acLinkInitialOrientation)};\nconst acLink = new VisualPolygonBody({x: 0, y: 0}, [{x: 0.5, y: 0}, {x: 0.5, y: -linkageLength}, {x: -0.5, y: -linkageLength}, {x: -0.5, y: 0}], board.context, acLinkInitialOrientation, 100);\nconst bdLink = new VisualPolygonBody({x: abLength, y: 0}, [{x: 0.5, y: 0}, {x: 0.5, y: -linkageLength}, {x: -0.5, y: -linkageLength}, {x: -0.5, y: 0}], board.context, -acLinkInitialOrientation, 100);\nconst cTriangleLink = new VisualPolygonBody(cTriangleLinkInitialCenter, [{x: 0, y: 0}, {x: abLength / 2, y: 0}, {x: abLength / 4, y: linkageLength * Math.sin(90 * Math.PI / 180 - acLinkInitialOrientation)}], board.context, 0, 100);\nconst acFixedPin = new FixedPinJoint(acLink, acLink.center, {x: 0, y: 0});\nconst bdFixedPin = new FixedPinJoint(bdLink, {x: 0, y: 0}, {x: abLength, y: 0});\nconst bcPin = new PinJoint(cTriangleLink, acLink, {x: 0, y: 0}, {x: 0, y: -linkageLength});\nconst cdPin = new PinJoint(cTriangleLink, bdLink, {x: abLength / 2, y: 0}, {x: 0, y: -linkageLength});\n\nworld.addRigidBody(`acLink`, acLink);\nworld.addRigidBody(`bdLink`, bdLink);\nworld.addRigidBody(`cTriangleLink`, cTriangleLink);\nworld.addConstraint(acFixedPin);\nworld.addConstraint(bdFixedPin);\nworld.addConstraint(bcPin);\nworld.addConstraint(cdPin);\n\nboard.fullScreen = true;\nboard.camera.setPosition({x: abLength / 2, y: 0});\nboard.camera.setZoomLevel(2);\n\nboard.alignCoordinateSystem = false;\nlet lastTime = 0;\nworld._context = board.context;\nfunction step(timestamp: number){\n    // console.time(\"step\");\n    const deltaTime = timestamp - lastTime;\n    board.step(deltaTime);\n    appleForce();\n    board.context.lineWidth = 1 / board.camera.zoomLevel;\n    world.step(0.016);\n    lastTime = timestamp;\n    // console.timeEnd(\"step\");\n    requestAnimationFrame(step);\n}\nstep(0);\n\nfunction visibilityChange(){\n    if(!document.hidden){\n        lastTime = performance.now();\n    }\n}\n\nwindow.addEventListener(\"visibilitychange\", visibilityChange);\n\nfunction randomPointGenerator(min: {x: number, y: number}, max: {x: number, y: number}): () => {x: number, y: number}{\n    return function() {\n        return {\n            x: Math.random() * (max.x - min.x) + min.x,\n            y: Math.random() * (max.y - min.y) + min.y\n        }\n    }\n}\n\nfunction appleForce(){\n    if(forceMap[\"ArrowUp\"]){\n        acLink.applyForceInOrientation({x: 0, y: -3000});\n    }\n    if(forceMap[\"ArrowDown\"]){\n        acLink.applyForceInOrientation({x: 0, y: 3000});\n    }\n    if(forceMap[\"ArrowLeft\"]){\n        acLink.applyForceInOrientation({x: -3000, y: 0});\n    }\n    if(forceMap[\"ArrowRight\"]){\n        acLink.applyForceInOrientation({x: 3000, y: 0});\n    }\n    if(forceMap[\"KeyQ\"]){\n        acLink.angularVelocity = 0.1;\n    }\n    if(forceMap[\"KeyE\"]){\n        acLink.angularVelocity = -0.1;\n    }\n}\n\nfunction keydownHandler(e: KeyboardEvent){\n    if(e.key === \"ArrowUp\"){\n        forceMap[\"ArrowUp\"] = true;\n    }\n    if(e.key === \"ArrowDown\"){\n        forceMap[\"ArrowDown\"] = true;\n    }\n    if(e.key === \"ArrowLeft\"){\n        forceMap[\"ArrowLeft\"] = true;\n    }\n    if(e.key === \"ArrowRight\"){\n        forceMap[\"ArrowRight\"] = true;\n    }\n    if(e.code === \"KeyQ\"){\n        forceMap[\"KeyQ\"] = true;\n    }\n    if(e.code === \"KeyE\"){\n        forceMap[\"KeyE\"] = true;\n    }\n}\n\nfunction keyupHandler(e: KeyboardEvent){\n    if(e.key === \"ArrowUp\"){\n        forceMap[\"ArrowUp\"] = false;\n    }\n    if(e.key === \"ArrowDown\"){\n        forceMap[\"ArrowDown\"] = false;\n    }\n    if(e.key === \"ArrowLeft\"){\n        forceMap[\"ArrowLeft\"] = false;\n    }\n    if(e.key === \"ArrowRight\"){\n        forceMap[\"ArrowRight\"] = false;\n    }\n    if(e.code === \"KeyQ\"){\n        forceMap[\"KeyQ\"] = false;\n    }\n    if(e.code === \"KeyE\"){\n        forceMap[\"KeyE\"] = false;\n    }\n}\n\nwindow.addEventListener(\"keydown\", keydownHandler);\nwindow.addEventListener(\"keyup\", keyupHandler);\n"],"names":["PointCal","addVector","a","b","z","x","y","subVector","multiplyVectorByScalar","divideVectorByScalar","magnitude","Math","sqrt","unitVector","this","dotProduct","crossProduct","unitVectorFromA2B","rotatePoint","point","angle","cos","sin","transform2NewAxis","angleFromOriginalAxis2DestAxis","angleFromA2B","atan2","transformPointWRTAnchor","anchor","newPoint","distanceBetweenPoints","flipYAxis","linearInterpolation","t","isEqual","getLineIntersection","startPoint","endPoint","startPoint2","endPoint2","numerator","denominator","intersects","intersection","offset","narrowPhaseWithRigidBody","bodies","combinationsToCheck","resolveCollisionFlag","contactPoints","forEach","combination","bodyA","bodyB","bodyAZ","center","bodyBZ","abs","collision","depth","normal","normalAxis","axis","bodyAAxes","getCollisionAxes","bodyBAxes","push","minDepth","Number","MAX_VALUE","minAxis","projAxis","bodyAInterval","getMinMaxProjection","bodyBInterval","min","max","moveDisplacement","revMoveDisplacement","isStatic","move","bodyASigNormal","getNormalOfSignificantFace","bodyBSigNormal","bodyASigVertices","getSignificantVertices","bodyBSigVertices","bodyAParallelIndicator","bodyBParallelIndicator","length","adjacentFaces","getAdjacentFaces","faceToClip","index","coord","direction","sigStart","sigEnd","startInside","intersectionPoint","referenceFace","endInside","console","log","contactManifold","inverseMassA","isMovingStatic","mass","inverseMassB","inverseMMOIA","momentOfInertia","inverseMMOIB","Js","contactPoint","rA","rB","rAPerpendicular","rBPerpendicular","angularVelocityA","angularVelocity","angularVelocityB","relativeVelocity","linearVelocity","relativeVelocityNormal","rAPerpendicularNormal","rBPerpendicularNormal","J","impulse","deltaVelocityA","deltaVelocityB","resA","resB","resolveCollisionWithRotation","RectangleBound","constructor","bottomLeft","width","height","getWidth","getHeight","getbottomLeft","QuadTree","level","bounds","MAX_OBJECTS","MAX_LEVELS","objects","nodes","draw","context","beginPath","rect","stroke","node","clear","split","subWidth","subHeight","getIndex","vBody","midPoint_x","midPoint_y","points","AABB","bottom","left","right","top","insert","i","splice","retrieve","res","BaseRigidBody","_orientationAngle","isStaticBody","frictionEnabled","_mass","_staticFrictionCoeff","dynamicFrictionCoeff","isMovingStaticBody","angularDampingFactor","_center","force","linearAcceleartion","_linearVelocity","_angularVelocity","delta","rotateRadians","getCenter","getOrientationAngle","orientationAngle","setLinearVelocity","setMovingStatic","movingStatic","setOrientationAngle","applyForce","applyForceInOrientation","forceTransformed","step","deltaTime","staticFrictionCoeff","kineticFrictionDirection","kineticFriction","angularDamping","gravitationalForce","dest","coeff","VisualPolygonBody","vertices","drawingContext","_polygon","Polygon","_context","ctx","getVerticesAbsCoord","moveTo","vertex","lineTo","unitvector","relativeBody","significantVertex","collisionNormal","super","bind","reduce","acc","nextPointIndex","nextPoint","denomiator","_momentOfInertia","map","absVertices","vector","PI","projections","xCoords","yCoords","verticesProjected","indexOf","maxIndex","tipVertex","prevPointIndex","prevPoint","adjacentFacesWithIndex","unshift","prevPrevPointIndex","nextNextPointIndex","FixedPinJoint","anchorA","worldAnchorA","enforce","dt","solveWorldPinJointConstraint","body","localAnchor","worldAnchor","worldAnchorOnBody","diff","r","velocity","invMass","invI","K_x","K_y","K_xy","impulse_x","impulse_y","PinJoint","anchorB","solvePinJointConstraint","worldAnchorB","invMassA","invMassB","invIA","invIB","e","o","n","s","l","u","d","v","h","c","m","_","p","g","start","end","ccw","startAsTieBreaker","_nextHandler","nextHandler","chainHandler","panCameraTo","panCameraBy","S","setPosition","position","H","_entireViewPort","entireViewPort","boundaries","viewPortWidth","viewPortHeight","zoomLevel","rotation","w","_restrictXTranslation","_restrictYTranslation","_restrictRelativeXTranslation","_restrictRelativeYTranslation","restrictXTranslation","restrictYTranslation","restrictRelativeXTranslation","restrictRelativeYTranslation","convertDeltaToComplyWithRestriction","T","restrictionHandler","restrictTranslation","limitEntireViewPort","clampHandler","baseHandler","B","rotateCameraTo","rotateCameraBy","P","setRotation","M","_restrictRotation","restrictRotation","k","rotationBoundaries","O","_restrictionHandler","_baseHandler","_clampHandler","V","zoomCameraTo","zoomCameraBy","zoomCameraToAt","zoomCameraByAt","L","panHandler","setZoomLevel","D","zoomBoundaries","zoomByAt","R","_restrictZoom","restrictZoom","I","E","Promise","next","throw","done","value","then","apply","SuppressedError","A","panCallbackList","zoomCallbackList","rotateCallbackList","notifyPositionChange","queueMicrotask","notifyZoomChange","deltaZoomAmount","notifyRotationChange","deltaRotation","on","filter","clearCallbacks","W","_position","_zoomLevel","_rotation","_viewPortHeight","_viewPortWidth","_observer","_boundaries","observer","_zoomBoundaries","setMaxZoomLevel","setMinZoomLevel","_rotationBoundaries","convertFromViewPort2WorldSpace","invertFromWorldSpace2ViewPort","setHorizontalBoundaries","setVerticalBoundaries","Y","_panDisabled","_zoomDisabled","_rotateDisabled","_keyController","Map","SCROLL_SENSATIVITY","isDragging","_canvas","_camera","_debugMode","_alignCoordinateSystem","bindFunctions","inputObserver","debugMode","alignCoordinateSystem","panDisabled","canvas","style","cursor","dragStartPoint","zoomDisabled","rotateDisabled","camera","setUp","addEventListener","pointerDownHandler","pointerUpHandler","pointerMoveHandler","scrollHandler","window","keypressHandler","keyupHandler","setupKeyController","tearDown","removeEventListener","set","_disabled","pointerType","button","metaKey","get","clientX","clientY","disableStrategy","enableStrategy","notifyOnPan","preventDefault","deltaY","ctrlKey","getBoundingClientRect","notifyOnZoom","deltaX","has","key","updateCamera","disabled","Z","ZOOM_SENSATIVITY","panInputCallBackList","zoomInputCallBackList","controlCamera","touchPoints","zoomStartDist","bindListeners","touchstartHandler","touchendHandler","touchcancelHandler","touchmoveHandler","resetAttributes","tapPoint","targetTouches","convertWindowPoint2ViewPortPoint","F","$","U","et","cameraSubscribers","panHandlerSubscribers","zoomHandlerSubscribers","rotationHandlerSubscribers","subscribeToCamera","unsubscribeToCamera","subscribeToPanHandler","unsubscribeToPanHandler","subscribeToZoomHandler","unsubscribeToZoomHandler","subscribeToRotationHandler","notifyCameraChange","_panHandler","notifyPanHandlerChange","zoomHandler","_zoomHandler","notifyZoomHandlerChange","rotationHandler","_rotationHandler","notifyRotationHandlerChange","updatePanHandler","updateZoomHandler","updateRotationHandler","it","_controlCenter","notifyPanInput","notifyZoomInput","anchorPoint","notifyOnRotation","notifyRotationInput","onInput","Error","controlCenter","rt","_panController","_zoomController","_rotationController","panController","zoomController","rotationController","nt","Object","freeze","__proto__","easeInBack","easeInBounce","easeInCirc","pow","easeInCubic","easeInElastic","easeInExpo","easeInOutBack","easeInOutBounce","easeInOutCirc","easeInOutCubic","easeInOutElastic","easeInOutExpo","easeInOutQuad","easeInOutQuart","easeInOutQuint","easeInOutSine","easeInQuad","easeInQuart","easeInQuint","easeInSine","easeOutBack","easeOutBounce","easeOutCirc","easeOutCubic","easeOutElastic","easeOutExpo","easeOutQuad","easeOutQuart","easeOutQuint","easeOutSine","linear","world","maxTransWidth","maxTransHeight","pinJoints","bound","quadTree","rigidBodyList","rigidBodyMap","_resolveCollision","constraints","addRigidBody","ident","removeRigidBody","delete","resolveCollisionPhase","constraint","getRigidBodyList","rigidBody","possibleCombi","objsToCheck","jindex","aabbA","aabbB","broadPhaseWithRigidBodyReturned","resolveCollision","getRigidBodyMap","setMaxTransHeight","setMaxTransWidth","addConstraint","getConstraints","addPinJoint","document","getElementById","board","_fullScreen","lastUpdateTime","boardStateObserver","getContext","attributeObserver","MutationObserver","attributeCallBack","observe","attributes","windowResizeObserver","ResizeObserver","windowResizeHandler","boardInputObserver","_kmtStrategy","_touchStrategy","registerEventListeners","removeEventListeners","setup","disconnect","fullScreen","innerWidth","innerHeight","X","kmtStrategy","touchStrategy","reset","clearRect","translate","scale","rotate","convertWindowPoint2WorldCoord","maxHalfTransHeight","maxHalfTransWidth","type","attributeName","setMaxTransWidthAlignedMin","forceMap","acLinkInitialOrientation","acos","cTriangleLinkInitialCenter","abLength","acLink","bdLink","cTriangleLink","acFixedPin","bdFixedPin","bcPin","cdPin","lastTime","timestamp","lineWidth","requestAnimationFrame","hidden","performance","now","code"],"sourceRoot":""}